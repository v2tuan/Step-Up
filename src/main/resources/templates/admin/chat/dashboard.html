<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            <div class="conversation" id="conversation-1">-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Someone</div>-->
<!--                            <div class="conversation-user-status online">online</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Today</span></div>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="conversation" id="conversation-2">-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Someone 1</div>-->
<!--                            <div class="conversation-user-status online">online</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Today</span></div>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--&lt;!&ndash;<script>&ndash;&gt;-->
<!--&lt;!&ndash;    document.addEventListener("DOMContentLoaded", function () {&ndash;&gt;-->
<!--&lt;!&ndash;        fetch("/api/v1/chat/conversations/all")&ndash;&gt;-->
<!--&lt;!&ndash;            .then(response => response.json())&ndash;&gt;-->
<!--&lt;!&ndash;            .then(conversations => {&ndash;&gt;-->
<!--&lt;!&ndash;                const list = document.querySelector(".content-messages-list");&ndash;&gt;-->

<!--&lt;!&ndash;                list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';&ndash;&gt;-->

<!--&lt;!&ndash;                conversations.forEach((conv, index) => {&ndash;&gt;-->
<!--&lt;!&ndash;                    const updatedAtFormatted = formatTime(conv.updatedAt);&ndash;&gt;-->

<!--&lt;!&ndash;                    const li = document.createElement("li");&ndash;&gt;-->
<!--&lt;!&ndash;                    li.innerHTML = `&ndash;&gt;-->
<!--&lt;!&ndash;                    <a href="#" data-conversation="#conversation-${conv.id}">&ndash;&gt;-->
<!--&lt;!&ndash;                        <img class="content-message-image" src="${conv.customer.profileImage || 'https://via.placeholder.com/50'}" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                        <span class="content-message-info">&ndash;&gt;-->
<!--&lt;!&ndash;                            <span class="content-message-name">${conv.customer.fullName || 'No name'}</span>&ndash;&gt;-->
<!--&lt;!&ndash;                            <span class="content-message-text">${conv.lastMessage || 'No message'}</span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </span>&ndash;&gt;-->
<!--&lt;!&ndash;                        <span class="content-message-more">&ndash;&gt;-->
<!--&lt;!&ndash;                            ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}&ndash;&gt;-->
<!--&lt;!&ndash;                            <span class="content-message-time">${updatedAtFormatted}</span>&ndash;&gt;-->
<!--&lt;!&ndash;                        </span>&ndash;&gt;-->
<!--&lt;!&ndash;                    </a>&ndash;&gt;-->
<!--&lt;!&ndash;                `;&ndash;&gt;-->
<!--&lt;!&ndash;                    list.appendChild(li);&ndash;&gt;-->
<!--&lt;!&ndash;                });&ndash;&gt;-->
<!--&lt;!&ndash;            })&ndash;&gt;-->
<!--&lt;!&ndash;            .catch(error => {&ndash;&gt;-->
<!--&lt;!&ndash;                console.error("Lỗi khi lấy dữ liệu:", error);&ndash;&gt;-->
<!--&lt;!&ndash;            });&ndash;&gt;-->

<!--&lt;!&ndash;        function formatTime(isoTime) {&ndash;&gt;-->
<!--&lt;!&ndash;            if (!isoTime) return "N/A";&ndash;&gt;-->

<!--&lt;!&ndash;            const now = new Date();&ndash;&gt;-->
<!--&lt;!&ndash;            const time = new Date(isoTime);&ndash;&gt;-->
<!--&lt;!&ndash;            const diffMs = now - time;&ndash;&gt;-->
<!--&lt;!&ndash;            const diffSec = Math.floor(diffMs / 1000);&ndash;&gt;-->
<!--&lt;!&ndash;            const diffMin = Math.floor(diffSec / 60);&ndash;&gt;-->
<!--&lt;!&ndash;            const diffHour = Math.floor(diffMin / 60);&ndash;&gt;-->
<!--&lt;!&ndash;            const diffDay = Math.floor(diffHour / 24);&ndash;&gt;-->
<!--&lt;!&ndash;            const diffWeek = Math.floor(diffDay / 7);&ndash;&gt;-->

<!--&lt;!&ndash;            if (diffSec < 60) return `${diffSec} seconds ago`;&ndash;&gt;-->
<!--&lt;!&ndash;            if (diffMin < 60) return `${diffMin} minutes ago`;&ndash;&gt;-->
<!--&lt;!&ndash;            if (diffHour < 24) return `${diffHour} hours ago`;&ndash;&gt;-->

<!--&lt;!&ndash;            // Nếu là hôm qua&ndash;&gt;-->
<!--&lt;!&ndash;            const yesterday = new Date();&ndash;&gt;-->
<!--&lt;!&ndash;            yesterday.setDate(yesterday.getDate() - 1);&ndash;&gt;-->
<!--&lt;!&ndash;            if (&ndash;&gt;-->
<!--&lt;!&ndash;                time.getDate() === yesterday.getDate() &&&ndash;&gt;-->
<!--&lt;!&ndash;                time.getMonth() === yesterday.getMonth() &&&ndash;&gt;-->
<!--&lt;!&ndash;                time.getFullYear() === yesterday.getFullYear()&ndash;&gt;-->
<!--&lt;!&ndash;            ) {&ndash;&gt;-->
<!--&lt;!&ndash;                return "Yesterday";&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->

<!--&lt;!&ndash;            if (diffDay < 7) return `${diffDay} days ago`;&ndash;&gt;-->

<!--&lt;!&ndash;            if (now.getFullYear() === time.getFullYear()) {&ndash;&gt;-->
<!--&lt;!&ndash;                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;&ndash;&gt;-->
<!--&lt;!&ndash;            }&ndash;&gt;-->

<!--&lt;!&ndash;            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;&ndash;&gt;-->
<!--&lt;!&ndash;        }&ndash;&gt;-->
<!--&lt;!&ndash;    });&ndash;&gt;-->
<!--&lt;!&ndash;</script>&ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Show skeleton loading first-->
<!--        showSkeletonLoading();-->

<!--        // Fetch conversations from API-->
<!--        fetchConversations();-->

<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Create 5 skeleton items-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => response.json())-->
<!--                .then(conversations => {-->
<!--                    // When data is loaded, replace skeleton with actual content-->
<!--                    renderConversations(conversations);-->
<!--                    document.querySelectorAll('[data-conversation]').forEach(function(item) {-->
<!--                        item.addEventListener('click', function(e) {-->
<!--                            e.preventDefault();-->
<!--                            document.querySelectorAll('.conversation').forEach(function(i) {-->
<!--                                i.classList.remove('active');-->
<!--                            });-->
<!--                            document.querySelector(this.dataset.conversation).classList.add('active');-->
<!--                        });-->
<!--                    });-->

<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Error fetching data:", error);-->
<!--                    // In case of error, show error message instead of skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Failed to load conversations. Please try again.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Retry</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Clear skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>No conversations yet</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->

<!--                const li = document.createElement("li");-->
<!--                li.innerHTML = `-->
<!--                <a href="#" data-conversation="#conversation-${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'No name'}</span>-->
<!--                        <span class="content-message-text">${conv.lastMessage || 'No message'}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} seconds ago`;-->
<!--            if (diffMin < 60) return `${diffMin} minutes ago`;-->
<!--            if (diffHour < 24) return `${diffHour} hours ago`;-->

<!--            // If yesterday-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Yesterday";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} days ago`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--<script src="/js/script.js"></script>-->
<!--</body>-->
<!--</html>-->




<!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            <div class="conversation" id="conversation-1">-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Someone</div>-->
<!--                            <div class="conversation-user-status online">online</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Today</span></div>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="conversation" id="conversation-2">-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Someone 1</div>-->
<!--                            <div class="conversation-user-status online">online</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Today</span></div>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                        <li class="conversation-item me">-->
<!--                            <div class="conversation-item-side">-->
<!--                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                            </div>-->
<!--                            <div class="conversation-item-content">-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-wrapper">-->
<!--                                    <div class="conversation-item-box">-->
<!--                                        <div class="conversation-item-text">-->
<!--                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>-->
<!--                                            <div class="conversation-item-time">12:30</div>-->
<!--                                        </div>-->
<!--                                        <div class="conversation-item-dropdown">-->
<!--                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                            <ul class="conversation-item-dropdown-list">-->
<!--                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>-->
<!--                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>-->
<!--                                            </ul>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->
<!--            stompClient.connect({}, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container) return;-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Hiển thị chỉ báo đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--                <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                <li class="conversation-item loading">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <div class="skeleton-line skeleton-line-long"></div>-->
<!--                </li>-->
<!--            `;-->

<!--            // Lấy tin nhắn từ API-->
<!--            fetch(`/api/v1/chat/messages?conversationId=${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(messages => {-->
<!--                    // Xóa chỉ báo đang tải-->
<!--                    messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                    // Hiển thị tin nhắn-->
<!--                    if (messages.length === 0) {-->
<!--                        messagesList.innerHTML += `-->
<!--                            <li class="conversation-item-empty">-->
<!--                                <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                            </li>-->
<!--                        `;-->
<!--                    } else {-->
<!--                        renderMessages(messagesList, messages);-->
<!--                    }-->

<!--                    // Cuộn xuống dưới cùng-->
<!--                    scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                    // Đánh dấu là đã đọc-->
<!--                    markConversationAsRead(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                    messagesList.innerHTML = `-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        <li class="conversation-item-error">-->
<!--                            <i class="ri-error-warning-line"></i>-->
<!--                            <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                            <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                        </li>-->
<!--                    `;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Lấy ID người dùng hiện tại từ thuộc tính data hoặc local storage-->
<!--            // Ví dụ, giả định người dùng hiện tại có ID 1-->
<!--            const currentUserId = 1; // Thay thế bằng ID người dùng đăng nhập thực tế-->

<!--            messages.forEach(message => {-->
<!--                const isMe = message.sender.id === currentUserId;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    <p>${message.content}</p>-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Thêm tin nhắn vào cuộc hội thoại-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentUserId = 1; // Thay thế bằng ID người dùng đăng nhập thực tế-->
<!--            const isMe = message.sender.id === currentUserId;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${message.content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Cập nhật trạng thái đã đọc trong UI nếu cần-->
<!--            console.log('Tin nhắn đã được đánh dấu đã đọc:', message);-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    const unreadContainer = conversationItem.querySelector('.content-message-more');-->
<!--                    const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--                    if (existingBadge) {-->
<!--                        if (conversation.unreadCount > 0) {-->
<!--                            existingBadge.textContent = conversation.unreadCount;-->
<!--                        } else {-->
<!--                            existingBadge.remove();-->
<!--                        }-->
<!--                    } else if (conversation.unreadCount > 0) {-->
<!--                        const badge = document.createElement('span');-->
<!--                        badge.className = 'content-message-unread';-->
<!--                        badge.textContent = conversation.unreadCount;-->
<!--                        unreadContainer.prepend(badge);-->
<!--                    }-->

<!--                    // Cập nhật tin nhắn cuối cùng-->
<!--                    if (conversation.lastMessage) {-->
<!--                        const messageTextElement = conversationItem.querySelector('.content-message-text');-->
<!--                        messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                        const timeElement = conversationItem.querySelector('.content-message-time');-->
<!--                        timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--                    }-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Gửi qua API REST-->
<!--            fetch('/api/v1/chat/messages', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(messageData)-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(message => {-->
<!--                    // Tin nhắn sẽ được xử lý qua WebSocket-->
<!--                    console.log('Tin nhắn đã gửi thành công:', message);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Lỗi khi gửi tin nhắn:', error);-->
<!--                    // Hiển thị lỗi trong UI-->
<!--                    alert('Không thể gửi tin nhắn. Vui lòng thử lại.');-->
<!--                });-->

<!--            // Hoặc gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->
<!--</body>-->
<!--</html>-->












<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--&lt;!&ndash;            <div class="conversation" id="conversation-1">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--&lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--&lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-user-name">Someone</div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--&lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--&lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </li>&ndash;&gt;-->
<!--&lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </li>&ndash;&gt;-->
<!--&lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </li>&ndash;&gt;-->
<!--&lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--&lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--&lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--&lt;!&ndash;            <div class="conversation" id="conversation-2">&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--&lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--&lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-user-name">Someone 1</div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--&lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--&lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </li>&ndash;&gt;-->
<!--&lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </li>&ndash;&gt;-->
<!--&lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--&lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </li>&ndash;&gt;-->
<!--&lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--&lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--&lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--&lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Get current user info from JWT token-->
<!--        let currentUser = null;-->
<!--        function getCurrentUserFromToken() {-->
<!--            try {-->
<!--                const token = getCookie('auth_token');-->
<!--                if (token) {-->
<!--                    const tokenParts = token.split('.');-->
<!--                    if (tokenParts.length === 3) {-->
<!--                        const payload = JSON.parse(atob(tokenParts[1]));-->
<!--                        return payload;-->
<!--                    }-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error parsing JWT token:', error);-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Get cookie value by name-->
<!--        function getCookie(name) {-->
<!--            const cookies = document.cookie.split(';');-->
<!--            for (let i = 0; i < cookies.length; i++) {-->
<!--                const cookie = cookies[i].trim();-->
<!--                if (cookie.startsWith(name + '=')) {-->
<!--                    return cookie.substring(name.length + 1);-->
<!--                }-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Initialize current user-->
<!--        currentUser = getCurrentUserFromToken();-->
<!--        console.log('Current user from token:', currentUser);-->

<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->
<!--            stompClient.connect({}, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container){-->
<!--                console.log("Không tìm thy container conversation")-->
<!--                return;-->
<!--            }-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Hiển thị chỉ báo đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--&lt;!&ndash;                <div class="coversation-divider"><span>Hôm nay</span></div>&ndash;&gt;-->
<!--                <li class="conversation-item loading">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <div class="skeleton-line skeleton-line-long"></div>-->
<!--                </li>-->
<!--            `;-->

<!--            // Lấy tin nhắn từ API-->
<!--            fetch(`/api/v1/chat/messages?conversationId=${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(messages => {-->
<!--                    // Xóa chỉ báo đang tải-->
<!--                    messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                    // Hiển thị tin nhắn-->
<!--                    if (messages.length === 0) {-->
<!--                        messagesList.innerHTML += `-->
<!--                            <li class="conversation-item-empty">-->
<!--                                <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                            </li>-->
<!--                        `;-->
<!--                    } else {-->
<!--                        renderMessages(messagesList, messages);-->
<!--                    }-->

<!--                    // Cuộn xuống dưới cùng-->
<!--                    scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                    // Đánh dấu là đã đọc-->
<!--                    markConversationAsRead(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                    messagesList.innerHTML = `-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        <li class="conversation-item-error">-->
<!--                            <i class="ri-error-warning-line"></i>-->
<!--                            <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                            <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                        </li>-->
<!--                    `;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Get email from JWT token to identify current user-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            messages.forEach(message => {-->
<!--                // Check if the message is from the current user by comparing emails-->
<!--                const isMe = message.sender.email === currentUserEmail;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    <p>${message.content}</p>-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Thêm tin nhắn vào cuộc hội thoại-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->

<!--            // Get email from JWT token to identify current user-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            // Check if the message is from the current user by comparing emails-->
<!--            const isMe = message.sender.email === currentUserEmail;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${message.content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Cập nhật trạng thái đã đọc trong UI nếu cần-->
<!--            console.log('Tin nhắn đã được đánh dấu đã đọc:', message);-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    const unreadContainer = conversationItem.querySelector('.content-message-more');-->
<!--                    const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--                    if (existingBadge) {-->
<!--                        if (conversation.unreadCount > 0) {-->
<!--                            existingBadge.textContent = conversation.unreadCount;-->
<!--                        } else {-->
<!--                            existingBadge.remove();-->
<!--                        }-->
<!--                    } else if (conversation.unreadCount > 0) {-->
<!--                        const badge = document.createElement('span');-->
<!--                        badge.className = 'content-message-unread';-->
<!--                        badge.textContent = conversation.unreadCount;-->
<!--                        unreadContainer.prepend(badge);-->
<!--                    }-->

<!--                    // Cập nhật tin nhắn cuối cùng-->
<!--                    if (conversation.lastMessage) {-->
<!--                        const messageTextElement = conversationItem.querySelector('.content-message-text');-->
<!--                        messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                        const timeElement = conversationItem.querySelector('.content-message-time');-->
<!--                        timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--                    }-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Gửi qua API REST-->
<!--            fetch('/api/v1/chat/messages', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(messageData)-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(message => {-->
<!--                    // Tin nhắn sẽ được xử lý qua WebSocket-->
<!--                    console.log('Tin nhắn đã gửi thành công:', message);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Lỗi khi gửi tin nhắn:', error);-->
<!--                    // Hiển thị lỗi trong UI-->
<!--                    alert('Không thể gửi tin nhắn. Vui lòng thử lại.');-->
<!--                });-->

<!--            // Hoặc gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->
<!--</body>-->
<!--</html>-->


























<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    /* Message Status Styles */-->
<!--    .message-status {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--        margin-top: 4px;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 4px;-->
<!--    }-->

<!--    .message-status.sending {-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-status.sent {-->
<!--        color: #4CAF50;-->
<!--    }-->

<!--    .message-status.read {-->
<!--        color: #2196F3;-->
<!--    }-->

<!--    .message-status.error {-->
<!--        color: #f44336;-->
<!--    }-->

<!--    .message-status .retry-button {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        padding: 0;-->
<!--        cursor: pointer;-->
<!--        color: inherit;-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        font-size: 14px;-->
<!--    }-->

<!--    .message-status .retry-button:hover {-->
<!--        opacity: 0.8;-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-1">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-2">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone 1</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Get current user info from JWT token-->
<!--        let currentUser = null;-->
<!--        function getCurrentUserFromToken() {-->
<!--            try {-->
<!--                const token = getCookie('auth_token');-->
<!--                if (token) {-->
<!--                    const tokenParts = token.split('.');-->
<!--                    if (tokenParts.length === 3) {-->
<!--                        const payload = JSON.parse(atob(tokenParts[1]));-->
<!--                        return payload;-->
<!--                    }-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error parsing JWT token:', error);-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Get cookie value by name-->
<!--        function getCookie(name) {-->
<!--            const cookies = document.cookie.split(';');-->
<!--            for (let i = 0; i < cookies.length; i++) {-->
<!--                const cookie = cookies[i].trim();-->
<!--                if (cookie.startsWith(name + '=')) {-->
<!--                    return cookie.substring(name.length + 1);-->
<!--                }-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Initialize current user-->
<!--        currentUser = getCurrentUserFromToken();-->
<!--        console.log('Current user from token:', currentUser);-->

<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->
<!--            stompClient.connect({}, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container){-->
<!--                console.log("Không tìm thy container conversation")-->
<!--                return;-->
<!--            }-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Hiển thị chỉ báo đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--&lt;!&ndash;                <div class="coversation-divider"><span>Hôm nay</span></div>&ndash;&gt;-->
<!--                <li class="conversation-item loading">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <div class="skeleton-line skeleton-line-long"></div>-->
<!--                </li>-->
<!--            `;-->

<!--            // Lấy tin nhắn từ API-->
<!--            fetch(`/api/v1/chat/messages?conversationId=${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(messages => {-->
<!--                    // Xóa chỉ báo đang tải-->
<!--                    messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                    // Hiển thị tin nhắn-->
<!--                    if (messages.length === 0) {-->
<!--                        messagesList.innerHTML += `-->
<!--                            <li class="conversation-item-empty">-->
<!--                                <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                            </li>-->
<!--                        `;-->
<!--                    } else {-->
<!--                        renderMessages(messagesList, messages);-->
<!--                    }-->

<!--                    // Cuộn xuống dưới cùng-->
<!--                    scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                    // Đánh dấu là đã đọc-->
<!--                    markConversationAsRead(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                    messagesList.innerHTML = `-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        <li class="conversation-item-error">-->
<!--                            <i class="ri-error-warning-line"></i>-->
<!--                            <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                            <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                        </li>-->
<!--                    `;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Get email from JWT token to identify current user-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            messages.forEach(message => {-->
<!--                // Check if the message is from the current user by comparing emails-->
<!--                const isMe = message.sender.email === currentUserEmail;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                // Add status display for the latest message from current user-->
<!--                const isLatestMessage = messages[messages.length - 1].id === message.id;-->
<!--                const statusHtml = isMe && isLatestMessage ?-->
<!--                    `<div class="message-status">Đã gửi</div>` : '';-->

<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    <p>${message.content}</p>-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                    ${statusHtml}-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)-->
<!--            const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (existingMessage) {-->
<!--                // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần-->
<!--                const statusElement = existingMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem có tin nhắn tạm thời không-->
<!--            const tempMessage = container.querySelector('[data-message-id^="temp-"]');-->
<!--            if (tempMessage) {-->
<!--                // Cập nhật tin nhắn tạm thời với thông tin mới-->
<!--                tempMessage.dataset.messageId = message.id;-->
<!--                const statusElement = tempMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Nếu không có tin nhắn tạm thời và tin nhắn chưa tồn tại, tạo tin nhắn mới-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentUserEmail = currentUser?.email || '';-->
<!--            const isMe = message.sender.email === currentUserEmail;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại-->
<!--            const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');-->
<!--            const statusHtml = isLatestMessage ?-->
<!--                `<div class="message-status">Đã gửi</div>` : '';-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${message.content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                                ${statusHtml}-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->

<!--            // Sau khi xử lý tin nhắn, cập nhật danh sách cuộc hội thoại-->
<!--            updateUnreadCount(conversationId);-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Tìm tin nhắn trong tất cả các cuộc hội thoại-->
<!--            const messageElement = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (messageElement) {-->
<!--                const statusElement = messageElement.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã xem';-->
<!--                    statusElement.className = 'message-status read';-->
<!--                }-->
<!--            }-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    // Cập nhật thông tin cuộc hội thoại-->
<!--                    updateConversationItem(conversationItem, conversation);-->

<!--                    // Sắp xếp lại danh sách cuộc hội thoại-->
<!--                    sortConversationList();-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Cập nhật thông tin của một cuộc hội thoại-->
<!--        function updateConversationItem(item, conversation) {-->
<!--            // Cập nhật số lượng chưa đọc-->
<!--            const unreadContainer = item.querySelector('.content-message-more');-->
<!--            const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--            if (existingBadge) {-->
<!--                if (conversation.unreadCount > 0) {-->
<!--                    existingBadge.textContent = conversation.unreadCount;-->
<!--                } else {-->
<!--                    existingBadge.remove();-->
<!--                }-->
<!--            } else if (conversation.unreadCount > 0) {-->
<!--                const badge = document.createElement('span');-->
<!--                badge.className = 'content-message-unread';-->
<!--                badge.textContent = conversation.unreadCount;-->
<!--                unreadContainer.prepend(badge);-->
<!--            }-->

<!--            // Cập nhật tin nhắn cuối cùng-->
<!--            if (conversation.lastMessage) {-->
<!--                const messageTextElement = item.querySelector('.content-message-text');-->
<!--                messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                const timeElement = item.querySelector('.content-message-time');-->
<!--                timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--            }-->

<!--            // Cập nhật thời gian cập nhật cuộc hội thoại-->
<!--            item.dataset.updatedAt = conversation.updatedAt;-->
<!--        }-->

<!--        // Sắp xếp lại danh sách cuộc hội thoại-->
<!--        function sortConversationList() {-->
<!--            const list = document.querySelector('.content-messages-list');-->
<!--            const items = Array.from(list.querySelectorAll('li:not(.content-message-title)'));-->

<!--            // Sắp xếp các cuộc hội thoại theo thời gian cập nhật mới nhất-->
<!--            items.sort((a, b) => {-->
<!--                const timeA = new Date(a.dataset.updatedAt || 0);-->
<!--                const timeB = new Date(b.dataset.updatedAt || 0);-->
<!--                return timeB - timeA;-->
<!--            });-->

<!--            // Lấy phần tử tiêu đề "Recently"-->
<!--            const titleElement = list.querySelector('.content-message-title');-->

<!--            // Xóa tất cả các phần tử hiện tại-->
<!--            while (list.firstChild) {-->
<!--                list.removeChild(list.firstChild);-->
<!--            }-->

<!--            // Thêm lại tiêu đề-->
<!--            list.appendChild(titleElement);-->

<!--            // Thêm lại các cuộc hội thoại đã sắp xếp-->
<!--            items.forEach(item => {-->
<!--                list.appendChild(item);-->
<!--            });-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Tạo tin nhắn tạm thời với trạng thái "Đang gửi..."-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->

<!--            // Xóa trạng thái của tin nhắn trước đó-->
<!--            const previousStatus = messagesList.querySelector('.message-status');-->
<!--            if (previousStatus) {-->
<!--                previousStatus.remove();-->
<!--            }-->

<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(new Date())}</div>-->
<!--                                <div class="message-status sending">Đang gửi...</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Gửi qua API REST-->
<!--            fetch('/api/v1/chat/messages', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(messageData)-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(message => {-->
<!--                    // Cập nhật trạng thái tin nhắn thành "Đã gửi"-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Cập nhật ID tin nhắn tạm thời thành ID thật-->
<!--                    li.dataset.messageId = message.id;-->

<!--                    // Cập nhật danh sách cuộc hội thoại-->
<!--                    updateUnreadCount(conversationId);-->

<!--                    console.log('Tin nhắn đã gửi thành công:', message);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Lỗi khi gửi tin nhắn:', error);-->
<!--                    // Cập nhật trạng thái tin nhắn thành lỗi-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    // Thêm nút thử lại-->
<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        sendMessage(conversationId, content);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->

<!--            // Gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->
<!--</body>-->
<!--</html>-->

























































































<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    /* Message Status Styles */-->
<!--    .message-status {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--        margin-top: 4px;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 4px;-->
<!--    }-->

<!--    .message-status.sending {-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-status.sent {-->
<!--        color: #4CAF50;-->
<!--    }-->

<!--    .message-status.read {-->
<!--        color: #2196F3;-->
<!--    }-->

<!--    .message-status.error {-->
<!--        color: #f44336;-->
<!--    }-->

<!--    .message-status .retry-button {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        padding: 0;-->
<!--        cursor: pointer;-->
<!--        color: inherit;-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        font-size: 14px;-->
<!--    }-->

<!--    .message-status .retry-button:hover {-->
<!--        opacity: 0.8;-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->

<!--    /* Message Type Styles */-->
<!--    .message-image {-->
<!--        max-width: 300px;-->
<!--        max-height: 300px;-->
<!--        border-radius: 8px;-->
<!--        cursor: pointer;-->
<!--        transition: transform 0.2s;-->
<!--    }-->

<!--    .message-image:hover {-->
<!--        transform: scale(1.02);-->
<!--    }-->

<!--    .message-file {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 10px;-->
<!--        padding: 10px;-->
<!--        background: #f5f5f5;-->
<!--        border-radius: 8px;-->
<!--        text-decoration: none;-->
<!--        color: inherit;-->
<!--    }-->

<!--    .message-file i {-->
<!--        font-size: 24px;-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-file-info {-->
<!--        flex: 1;-->
<!--        min-width: 0;-->
<!--    }-->

<!--    .message-file-name {-->
<!--        font-weight: 500;-->
<!--        white-space: nowrap;-->
<!--        overflow: hidden;-->
<!--        text-overflow: ellipsis;-->
<!--    }-->

<!--    .message-file-size {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--    }-->

<!--    /* Image Preview Modal */-->
<!--    .image-preview-modal {-->
<!--        display: none;-->
<!--        position: fixed;-->
<!--        top: 0;-->
<!--        left: 0;-->
<!--        right: 0;-->
<!--        bottom: 0;-->
<!--        background: rgba(0, 0, 0, 0.9);-->
<!--        z-index: 1000;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .image-preview-modal.active {-->
<!--        display: flex;-->
<!--    }-->

<!--    .image-preview-content {-->
<!--        max-width: 90%;-->
<!--        max-height: 90%;-->
<!--        position: relative;-->
<!--    }-->

<!--    .image-preview-content img {-->
<!--        max-width: 100%;-->
<!--        max-height: 90vh;-->
<!--        object-fit: contain;-->
<!--    }-->

<!--    .image-preview-close {-->
<!--        position: absolute;-->
<!--        top: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 30px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    .image-preview-download {-->
<!--        position: absolute;-->
<!--        bottom: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 24px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    /* File Upload Button */-->
<!--    .conversation-form-upload {-->
<!--        position: relative;-->
<!--        overflow: hidden;-->
<!--        display: inline-block;-->
<!--    }-->

<!--    .conversation-form-upload input[type="file"] {-->
<!--        position: absolute;-->
<!--        left: 0;-->
<!--        top: 0;-->
<!--        opacity: 0;-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        cursor: pointer;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-1">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-2">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone 1</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Get current user info from JWT token-->
<!--        let currentUser = null;-->
<!--        function getCurrentUserFromToken() {-->
<!--            try {-->
<!--                const token = getCookie('auth_token');-->
<!--                if (token) {-->
<!--                    const tokenParts = token.split('.');-->
<!--                    if (tokenParts.length === 3) {-->
<!--                        const payload = JSON.parse(atob(tokenParts[1]));-->
<!--                        return payload;-->
<!--                    }-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error parsing JWT token:', error);-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Get cookie value by name-->
<!--        function getCookie(name) {-->
<!--            const cookies = document.cookie.split(';');-->
<!--            for (let i = 0; i < cookies.length; i++) {-->
<!--                const cookie = cookies[i].trim();-->
<!--                if (cookie.startsWith(name + '=')) {-->
<!--                    return cookie.substring(name.length + 1);-->
<!--                }-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Initialize current user-->
<!--        currentUser = getCurrentUserFromToken();-->
<!--        console.log('Current user from token:', currentUser);-->

<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->
<!--            stompClient.connect({}, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-attachment-2"></i></button>-->
<!--                            <input type="file" class="file-input" accept="*/*">-->
<!--                        </div>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-image-line"></i></button>-->
<!--                            <input type="file" class="image-input" accept="image/*">-->
<!--                        </div>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            // Setup file upload handlers-->
<!--            setupFileUploadHandlers(container);-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container){-->
<!--                console.log("Không tìm thy container conversation")-->
<!--                return;-->
<!--            }-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Hiển thị chỉ báo đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--&lt;!&ndash;                <div class="coversation-divider"><span>Hôm nay</span></div>&ndash;&gt;-->
<!--                <li class="conversation-item loading">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <div class="skeleton-line skeleton-line-long"></div>-->
<!--                </li>-->
<!--            `;-->

<!--            // Lấy tin nhắn từ API-->
<!--            fetch(`/api/v1/chat/messages?conversationId=${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(messages => {-->
<!--                    // Xóa chỉ báo đang tải-->
<!--                    messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                    // Hiển thị tin nhắn-->
<!--                    if (messages.length === 0) {-->
<!--                        messagesList.innerHTML += `-->
<!--                            <li class="conversation-item-empty">-->
<!--                                <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                            </li>-->
<!--                        `;-->
<!--                    } else {-->
<!--                        renderMessages(messagesList, messages);-->
<!--                    }-->

<!--                    // Cuộn xuống dưới cùng-->
<!--                    scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                    // Đánh dấu là đã đọc-->
<!--                    markConversationAsRead(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                    messagesList.innerHTML = `-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        <li class="conversation-item-error">-->
<!--                            <i class="ri-error-warning-line"></i>-->
<!--                            <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                            <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                        </li>-->
<!--                    `;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Get email from JWT token to identify current user-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            messages.forEach(message => {-->
<!--                // Check if the message is from the current user by comparing emails-->
<!--                const isMe = message.sender.email === currentUserEmail;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                // Add status display for the latest message from current user-->
<!--                const isLatestMessage = messages[messages.length - 1].id === message.id;-->
<!--                const statusHtml = isMe && isLatestMessage ?-->
<!--                    `<div class="message-status">Đã gửi</div>` : '';-->

<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    ${renderMessageContent(message)}-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                    ${statusHtml}-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)-->
<!--            const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (existingMessage) {-->
<!--                // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần-->
<!--                const statusElement = existingMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem có tin nhắn tạm thời không-->
<!--            const tempMessage = container.querySelector('[data-message-id^="temp-"]');-->
<!--            if (tempMessage) {-->
<!--                // Cập nhật tin nhắn tạm thời với thông tin mới-->
<!--                tempMessage.dataset.messageId = message.id;-->
<!--                const statusElement = tempMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Nếu không có tin nhắn tạm thời và tin nhắn chưa tồn tại, tạo tin nhắn mới-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentUserEmail = currentUser?.email || '';-->
<!--            const isMe = message.sender.email === currentUserEmail;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại-->
<!--            const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');-->
<!--            const statusHtml = isLatestMessage ?-->
<!--                `<div class="message-status">Đã gửi</div>` : '';-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${renderMessageContent(message)}-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                                ${statusHtml}-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->

<!--            // Sau khi xử lý tin nhắn, cập nhật danh sách cuộc hội thoại-->
<!--            updateUnreadCount(conversationId);-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Tìm tin nhắn trong tất cả các cuộc hội thoại-->
<!--            const messageElement = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (messageElement) {-->
<!--                const statusElement = messageElement.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã xem';-->
<!--                    statusElement.className = 'message-status read';-->
<!--                }-->
<!--            }-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    // Cập nhật thông tin cuộc hội thoại-->
<!--                    updateConversationItem(conversationItem, conversation);-->

<!--                    // Sắp xếp lại danh sách cuộc hội thoại-->
<!--                    sortConversationList();-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Cập nhật thông tin của một cuộc hội thoại-->
<!--        function updateConversationItem(item, conversation) {-->
<!--            // Cập nhật số lượng chưa đọc-->
<!--            const unreadContainer = item.querySelector('.content-message-more');-->
<!--            const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--            if (existingBadge) {-->
<!--                if (conversation.unreadCount > 0) {-->
<!--                    existingBadge.textContent = conversation.unreadCount;-->
<!--                } else {-->
<!--                    existingBadge.remove();-->
<!--                }-->
<!--            } else if (conversation.unreadCount > 0) {-->
<!--                const badge = document.createElement('span');-->
<!--                badge.className = 'content-message-unread';-->
<!--                badge.textContent = conversation.unreadCount;-->
<!--                unreadContainer.prepend(badge);-->
<!--            }-->

<!--            // Cập nhật tin nhắn cuối cùng-->
<!--            if (conversation.lastMessage) {-->
<!--                const messageTextElement = item.querySelector('.content-message-text');-->
<!--                messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                const timeElement = item.querySelector('.content-message-time');-->
<!--                timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--            }-->

<!--            // Cập nhật thời gian cập nhật cuộc hội thoại-->
<!--            item.dataset.updatedAt = conversation.updatedAt;-->
<!--        }-->

<!--        // Sắp xếp lại danh sách cuộc hội thoại-->
<!--        function sortConversationList() {-->
<!--            const list = document.querySelector('.content-messages-list');-->
<!--            const items = Array.from(list.querySelectorAll('li:not(.content-message-title)'));-->

<!--            // Sắp xếp các cuộc hội thoại theo thời gian cập nhật mới nhất-->
<!--            items.sort((a, b) => {-->
<!--                const timeA = new Date(a.dataset.updatedAt || 0);-->
<!--                const timeB = new Date(b.dataset.updatedAt || 0);-->
<!--                return timeB - timeA;-->
<!--            });-->

<!--            // Lấy phần tử tiêu đề "Recently"-->
<!--            const titleElement = list.querySelector('.content-message-title');-->

<!--            // Xóa tất cả các phần tử hiện tại-->
<!--            while (list.firstChild) {-->
<!--                list.removeChild(list.firstChild);-->
<!--            }-->

<!--            // Thêm lại tiêu đề-->
<!--            list.appendChild(titleElement);-->

<!--            // Thêm lại các cuộc hội thoại đã sắp xếp-->
<!--            items.forEach(item => {-->
<!--                list.appendChild(item);-->
<!--            });-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Tạo tin nhắn tạm thời với trạng thái "Đang gửi..."-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->

<!--            // Xóa trạng thái của tin nhắn trước đó-->
<!--            const previousStatus = messagesList.querySelector('.message-status');-->
<!--            if (previousStatus) {-->
<!--                previousStatus.remove();-->
<!--            }-->

<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(new Date())}</div>-->
<!--                                <div class="message-status sending">Đang gửi...</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Gửi qua API REST-->
<!--            fetch('/api/v1/chat/messages', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(messageData)-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(message => {-->
<!--                    // Cập nhật trạng thái tin nhắn thành "Đã gửi"-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Cập nhật ID tin nhắn tạm thời thành ID thật-->
<!--                    li.dataset.messageId = message.id;-->

<!--                    // Cập nhật danh sách cuộc hội thoại-->
<!--                    updateUnreadCount(conversationId);-->

<!--                    console.log('Tin nhắn đã gửi thành công:', message);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Lỗi khi gửi tin nhắn:', error);-->
<!--                    // Cập nhật trạng thái tin nhắn thành lỗi-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    // Thêm nút thử lại-->
<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        sendMessage(conversationId, content);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->

<!--            // Gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->

<!--        // Add file size formatting function-->
<!--        function formatFileSize(bytes) {-->
<!--            if (bytes === 0) return '0 Bytes';-->
<!--            const k = 1024;-->
<!--            const sizes = ['Bytes', 'KB', 'MB', 'GB'];-->
<!--            const i = Math.floor(Math.log(bytes) / Math.log(k));-->
<!--            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];-->
<!--        }-->

<!--        // Setup file upload handlers-->
<!--        function setupFileUploadHandlers(container) {-->
<!--            const fileInput = container.querySelector('.file-input');-->
<!--            const imageInput = container.querySelector('.image-input');-->

<!--            fileInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'FILE');-->
<!--                }-->
<!--            });-->

<!--            imageInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'IMAGE');-->
<!--                }-->
<!--            });-->
<!--        }-->

<!--        // Handle file upload-->
<!--        function handleFileUpload(container, file, messageType) {-->
<!--            const conversationId = container.querySelector('.conversation-form-submit').getAttribute('data-conversation-id');-->
<!--            const formData = new FormData();-->
<!--            formData.append('file', file);-->
<!--            formData.append('conversationId', conversationId);-->
<!--            formData.append('messageType', messageType);-->

<!--            // Show loading state-->
<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            let contentHtml = '';-->
<!--            if (messageType === 'IMAGE') {-->
<!--                contentHtml = `-->
<!--                    <img src="${URL.createObjectURL(file)}" class="message-image" alt="Uploading...">-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            } else {-->
<!--                contentHtml = `-->
<!--                    <div class="message-file">-->
<!--                        <i class="ri-file-line"></i>-->
<!--                        <div class="message-file-info">-->
<!--                            <div class="message-file-name">${file.name}</div>-->
<!--                            <div class="message-file-size">${formatFileSize(file.size)}</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            }-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${contentHtml}-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Upload file to server-->
<!--            fetch('/api/v1/chat/upload', {-->
<!--                method: 'POST',-->
<!--                body: formData-->
<!--            })-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->
<!--                    // Send message with file URL-->
<!--                    const messageData = {-->
<!--                        conversationId: conversationId,-->
<!--                        content: file.name,-->
<!--                        messageType: messageType,-->
<!--                        fileUrl: data.fileUrl-->
<!--                    };-->

<!--                    return fetch('/api/v1/chat/messages', {-->
<!--                        method: 'POST',-->
<!--                        headers: {-->
<!--                            'Content-Type': 'application/json'-->
<!--                        },-->
<!--                        body: JSON.stringify(messageData)-->
<!--                    });-->
<!--                })-->
<!--                .then(response => response.json())-->
<!--                .then(message => {-->
<!--                    // Update message with server response-->
<!--                    li.dataset.messageId = message.id;-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Update conversation list-->
<!--                    updateUnreadCount(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Error uploading file:', error);-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        handleFileUpload(container, file, messageType);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->
<!--        }-->

<!--        // Update message rendering to handle different types-->
<!--        function renderMessageContent(message) {-->
<!--            switch (message.messageType) {-->
<!--                case 'IMAGE':-->
<!--                    return `-->
<!--                        <img src="${message.fileUrl}" class="message-image" alt="Image" onclick="showImagePreview('${message.fileUrl}')">-->
<!--                    `;-->
<!--                case 'FILE':-->
<!--                    return `-->
<!--                        <a href="${message.fileUrl}" class="message-file" download>-->
<!--                            <i class="ri-file-line"></i>-->
<!--                            <div class="message-file-info">-->
<!--                                <div class="message-file-name">${message.content}</div>-->
<!--                            </div>-->
<!--                        </a>-->
<!--                    `;-->
<!--                default:-->
<!--                    return `<p>${message.content}</p>`;-->
<!--            }-->
<!--        }-->

<!--        // Add image preview functionality-->
<!--        window.showImagePreview = function(imageUrl) {-->
<!--            const modal = document.querySelector('.image-preview-modal');-->
<!--            const img = modal.querySelector('img');-->
<!--            img.src = imageUrl;-->
<!--            modal.classList.add('active');-->

<!--            // Setup download button-->
<!--            const downloadBtn = modal.querySelector('.image-preview-download');-->
<!--            downloadBtn.onclick = function() {-->
<!--                const link = document.createElement('a');-->
<!--                link.href = imageUrl;-->
<!--                link.download = imageUrl.split('/').pop();-->
<!--                document.body.appendChild(link);-->
<!--                link.click();-->
<!--                document.body.removeChild(link);-->
<!--            };-->
<!--        };-->

<!--        // Close image preview-->
<!--        document.querySelector('.image-preview-close').addEventListener('click', function() {-->
<!--            document.querySelector('.image-preview-modal').classList.remove('active');-->
<!--        });-->

<!--        // Close image preview on background click-->
<!--        document.querySelector('.image-preview-modal').addEventListener('click', function(e) {-->
<!--            if (e.target === this) {-->
<!--                this.classList.remove('active');-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->

<!--&lt;!&ndash; Add Image Preview Modal &ndash;&gt;-->
<!--<div class="image-preview-modal">-->
<!--    <div class="image-preview-content">-->
<!--        <span class="image-preview-close"><i class="ri-close-line"></i></span>-->
<!--        <img src="" alt="Preview">-->
<!--        <span class="image-preview-download"><i class="ri-download-line"></i></span>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->


<!--Gửi được tin nahwsn mà lúc load lại cuộc hội thoại chưa hiện thị được tin nhắn ảnh và file-->




























<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    /* Message Status Styles */-->
<!--    .message-status {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--        margin-top: 4px;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 4px;-->
<!--    }-->

<!--    .message-status.sending {-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-status.sent {-->
<!--        color: #4CAF50;-->
<!--    }-->

<!--    .message-status.read {-->
<!--        color: #2196F3;-->
<!--    }-->

<!--    .message-status.error {-->
<!--        color: #f44336;-->
<!--    }-->

<!--    .message-status .retry-button {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        padding: 0;-->
<!--        cursor: pointer;-->
<!--        color: inherit;-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        font-size: 14px;-->
<!--    }-->

<!--    .message-status .retry-button:hover {-->
<!--        opacity: 0.8;-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->

<!--    /* Message Type Styles */-->
<!--    .message-image {-->
<!--        max-width: 300px;-->
<!--        max-height: 300px;-->
<!--        border-radius: 8px;-->
<!--        cursor: pointer;-->
<!--        transition: transform 0.2s;-->
<!--    }-->

<!--    .message-image:hover {-->
<!--        transform: scale(1.02);-->
<!--    }-->

<!--    .message-file {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 10px;-->
<!--        padding: 10px;-->
<!--        background: #f5f5f5;-->
<!--        border-radius: 8px;-->
<!--        text-decoration: none;-->
<!--        color: inherit;-->
<!--    }-->

<!--    .message-file i {-->
<!--        font-size: 24px;-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-file-info {-->
<!--        flex: 1;-->
<!--        min-width: 0;-->
<!--    }-->

<!--    .message-file-name {-->
<!--        font-weight: 500;-->
<!--        white-space: nowrap;-->
<!--        overflow: hidden;-->
<!--        text-overflow: ellipsis;-->
<!--    }-->

<!--    .message-file-size {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--    }-->

<!--    /* Image Preview Modal */-->
<!--    .image-preview-modal {-->
<!--        display: none;-->
<!--        position: fixed;-->
<!--        top: 0;-->
<!--        left: 0;-->
<!--        right: 0;-->
<!--        bottom: 0;-->
<!--        background: rgba(0, 0, 0, 0.9);-->
<!--        z-index: 1000;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .image-preview-modal.active {-->
<!--        display: flex;-->
<!--    }-->

<!--    .image-preview-content {-->
<!--        max-width: 90%;-->
<!--        max-height: 90%;-->
<!--        position: relative;-->
<!--    }-->

<!--    .image-preview-content img {-->
<!--        max-width: 100%;-->
<!--        max-height: 90vh;-->
<!--        object-fit: contain;-->
<!--    }-->

<!--    .image-preview-close {-->
<!--        position: absolute;-->
<!--        top: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 30px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    .image-preview-download {-->
<!--        position: absolute;-->
<!--        bottom: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 24px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    /* File Upload Button */-->
<!--    .conversation-form-upload {-->
<!--        position: relative;-->
<!--        overflow: hidden;-->
<!--        display: inline-block;-->
<!--    }-->

<!--    .conversation-form-upload input[type="file"] {-->
<!--        position: absolute;-->
<!--        left: 0;-->
<!--        top: 0;-->
<!--        opacity: 0;-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        cursor: pointer;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-1">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-2">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone 1</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Get current user info from JWT token-->
<!--        let currentUser = null;-->
<!--        function getCurrentUserFromToken() {-->
<!--            try {-->
<!--                const token = getCookie('auth_token');-->
<!--                if (token) {-->
<!--                    const tokenParts = token.split('.');-->
<!--                    if (tokenParts.length === 3) {-->
<!--                        const payload = JSON.parse(atob(tokenParts[1]));-->
<!--                        return payload;-->
<!--                    }-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error parsing JWT token:', error);-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Get cookie value by name-->
<!--        function getCookie(name) {-->
<!--            const cookies = document.cookie.split(';');-->
<!--            for (let i = 0; i < cookies.length; i++) {-->
<!--                const cookie = cookies[i].trim();-->
<!--                if (cookie.startsWith(name + '=')) {-->
<!--                    return cookie.substring(name.length + 1);-->
<!--                }-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Initialize current user-->
<!--        currentUser = getCurrentUserFromToken();-->
<!--        console.log('Current user from token:', currentUser);-->

<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->
<!--            stompClient.connect({}, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-attachment-2"></i></button>-->
<!--                            <input type="file" class="file-input" accept="*/*">-->
<!--                        </div>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-image-line"></i></button>-->
<!--                            <input type="file" class="image-input" accept="image/*">-->
<!--                        </div>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            // Setup file upload handlers-->
<!--            setupFileUploadHandlers(container);-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container){-->
<!--                console.log("Không tìm thy container conversation")-->
<!--                return;-->
<!--            }-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Hiển thị trạng thái đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--        <li class="conversation-item loading">-->
<!--            <div class="skeleton-circle"></div>-->
<!--            <div class="skeleton-line skeleton-line-long"></div>-->
<!--        </li>-->
<!--    `;-->

<!--            // Gọi API để lấy tin nhắn-->
<!--            fetch(`/api/v1/chat/messages?conversationId=${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(messages => {-->
<!--                    // Xóa trạng thái đang tải-->
<!--                    messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                    // Kiểm tra nếu không có tin nhắn-->
<!--                    if (messages.length === 0) {-->
<!--                        messagesList.innerHTML += `-->
<!--                            <li class="conversation-item-empty">-->
<!--                                <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                            </li>-->
<!--                        `;-->
<!--                    } else {-->
<!--                        // Hiển thị tin nhắn-->
<!--                        renderMessages(messagesList, messages);-->
<!--                    }-->

<!--                    // Cuộn xuống tin nhắn mới nhất-->
<!--                    scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                    // Đánh dấu là đã đọc-->
<!--                    markConversationAsRead(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                    messagesList.innerHTML = `-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        <li class="conversation-item-error">-->
<!--                            <i class="ri-error-warning-line"></i>-->
<!--                            <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                            <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                        </li>-->
<!--                    `;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Lấy email người dùng hiện tại từ token để xác định tin nhắn của mình-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            // Duyệt qua từng tin nhắn và tạo HTML-->
<!--            messages.forEach(message => {-->
<!--                // Kiểm tra xem tin nhắn có phải của người dùng hiện tại không-->
<!--                const isMe = message.sender.email === currentUserEmail;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                // Tạo phần tử li cho tin nhắn-->
<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                // Kiểm tra xem có phải tin nhắn mới nhất không để hiển thị trạng thái-->
<!--                const isLatestMessage = messages[messages.length - 1].id === message.id;-->
<!--                const statusHtml = isMe && isLatestMessage ?-->
<!--                    `<div class="message-status">Đã gửi</div>` : '';-->

<!--                // Tạo HTML cho tin nhắn-->
<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    ${renderMessageContent(message)}-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                    ${statusHtml}-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                // Thêm tin nhắn vào container-->
<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)-->
<!--            const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (existingMessage) {-->
<!--                // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần-->
<!--                const statusElement = existingMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem có tin nhắn tạm thời không-->
<!--            const tempMessage = container.querySelector('[data-message-id^="temp-"]');-->
<!--            if (tempMessage) {-->
<!--                // Cập nhật tin nhắn tạm thời với thông tin mới-->
<!--                tempMessage.dataset.messageId = message.id;-->
<!--                const statusElement = tempMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Nếu không có tin nhắn tạm thời và tin nhắn chưa tồn tại, tạo tin nhắn mới-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentUserEmail = currentUser?.email || '';-->
<!--            const isMe = message.sender.email === currentUserEmail;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại-->
<!--            const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');-->
<!--            const statusHtml = isLatestMessage ?-->
<!--                `<div class="message-status">Đã gửi</div>` : '';-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${renderMessageContent(message)}-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                                ${statusHtml}-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->

<!--            // Sau khi xử lý tin nhắn, cập nhật danh sách cuộc hội thoại-->
<!--            updateUnreadCount(conversationId);-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Tìm tin nhắn trong tất cả các cuộc hội thoại-->
<!--            const messageElement = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (messageElement) {-->
<!--                const statusElement = messageElement.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã xem';-->
<!--                    statusElement.className = 'message-status read';-->
<!--                }-->
<!--            }-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    // Cập nhật thông tin cuộc hội thoại-->
<!--                    updateConversationItem(conversationItem, conversation);-->

<!--                    // Sắp xếp lại danh sách cuộc hội thoại-->
<!--                    sortConversationList();-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Cập nhật thông tin của một cuộc hội thoại-->
<!--        function updateConversationItem(item, conversation) {-->
<!--            // Cập nhật số lượng chưa đọc-->
<!--            const unreadContainer = item.querySelector('.content-message-more');-->
<!--            const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--            if (existingBadge) {-->
<!--                if (conversation.unreadCount > 0) {-->
<!--                    existingBadge.textContent = conversation.unreadCount;-->
<!--                } else {-->
<!--                    existingBadge.remove();-->
<!--                }-->
<!--            } else if (conversation.unreadCount > 0) {-->
<!--                const badge = document.createElement('span');-->
<!--                badge.className = 'content-message-unread';-->
<!--                badge.textContent = conversation.unreadCount;-->
<!--                unreadContainer.prepend(badge);-->
<!--            }-->

<!--            // Cập nhật tin nhắn cuối cùng-->
<!--            if (conversation.lastMessage) {-->
<!--                const messageTextElement = item.querySelector('.content-message-text');-->
<!--                messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                const timeElement = item.querySelector('.content-message-time');-->
<!--                timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--            }-->

<!--            // Cập nhật thời gian cập nhật cuộc hội thoại-->
<!--            item.dataset.updatedAt = conversation.updatedAt;-->
<!--        }-->

<!--        // Sắp xếp lại danh sách cuộc hội thoại-->
<!--        function sortConversationList() {-->
<!--            const list = document.querySelector('.content-messages-list');-->
<!--            const items = Array.from(list.querySelectorAll('li:not(.content-message-title)'));-->

<!--            // Sắp xếp các cuộc hội thoại theo thời gian cập nhật mới nhất-->
<!--            items.sort((a, b) => {-->
<!--                const timeA = new Date(a.dataset.updatedAt || 0);-->
<!--                const timeB = new Date(b.dataset.updatedAt || 0);-->
<!--                return timeB - timeA;-->
<!--            });-->

<!--            // Lấy phần tử tiêu đề "Recently"-->
<!--            const titleElement = list.querySelector('.content-message-title');-->

<!--            // Xóa tất cả các phần tử hiện tại-->
<!--            while (list.firstChild) {-->
<!--                list.removeChild(list.firstChild);-->
<!--            }-->

<!--            // Thêm lại tiêu đề-->
<!--            list.appendChild(titleElement);-->

<!--            // Thêm lại các cuộc hội thoại đã sắp xếp-->
<!--            items.forEach(item => {-->
<!--                list.appendChild(item);-->
<!--            });-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Tạo tin nhắn tạm thời với trạng thái "Đang gửi..."-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->

<!--            // Xóa trạng thái của tin nhắn trước đó-->
<!--            const previousStatus = messagesList.querySelector('.message-status');-->
<!--            if (previousStatus) {-->
<!--                previousStatus.remove();-->
<!--            }-->

<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(new Date())}</div>-->
<!--                                <div class="message-status sending">Đang gửi...</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Gửi qua API REST-->
<!--            fetch('/api/v1/chat/messages', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(messageData)-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(message => {-->
<!--                    // Cập nhật trạng thái tin nhắn thành "Đã gửi"-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Cập nhật ID tin nhắn tạm thời thành ID thật-->
<!--                    li.dataset.messageId = message.id;-->

<!--                    // Cập nhật danh sách cuộc hội thoại-->
<!--                    updateUnreadCount(conversationId);-->

<!--                    console.log('Tin nhắn đã gửi thành công:', message);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Lỗi khi gửi tin nhắn:', error);-->
<!--                    // Cập nhật trạng thái tin nhắn thành lỗi-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    // Thêm nút thử lại-->
<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        sendMessage(conversationId, content);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->

<!--            // Gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->

<!--        // Add file size formatting function-->
<!--        function formatFileSize(bytes) {-->
<!--            if (bytes === 0) return '0 Bytes';-->
<!--            const k = 1024;-->
<!--            const sizes = ['Bytes', 'KB', 'MB', 'GB'];-->
<!--            const i = Math.floor(Math.log(bytes) / Math.log(k));-->
<!--            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];-->
<!--        }-->

<!--        // Setup file upload handlers-->
<!--        function setupFileUploadHandlers(container) {-->
<!--            const fileInput = container.querySelector('.file-input');-->
<!--            const imageInput = container.querySelector('.image-input');-->

<!--            fileInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'FILE');-->
<!--                }-->
<!--            });-->

<!--            imageInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'IMAGE');-->
<!--                }-->
<!--            });-->
<!--        }-->

<!--        // Handle file upload-->
<!--        function handleFileUpload(container, file, messageType) {-->
<!--            const conversationId = container.querySelector('.conversation-form-submit').getAttribute('data-conversation-id');-->
<!--            const formData = new FormData();-->
<!--            formData.append('file', file);-->
<!--            formData.append('conversationId', conversationId);-->
<!--            formData.append('messageType', messageType);-->

<!--            // Show loading state-->
<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            let contentHtml = '';-->
<!--            if (messageType === 'IMAGE') {-->
<!--                contentHtml = `-->
<!--                    <img src="${URL.createObjectURL(file)}" class="message-image" alt="Uploading...">-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            } else {-->
<!--                contentHtml = `-->
<!--                    <div class="message-file">-->
<!--                        <i class="ri-file-line"></i>-->
<!--                        <div class="message-file-info">-->
<!--                            <div class="message-file-name">${file.name}</div>-->
<!--                            <div class="message-file-size">${formatFileSize(file.size)}</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            }-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${contentHtml}-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Upload file to server-->
<!--            fetch('/api/v1/chat/upload', {-->
<!--                method: 'POST',-->
<!--                body: formData-->
<!--            })-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->
<!--                    // Send message with file URL-->
<!--                    const messageData = {-->
<!--                        conversationId: conversationId,-->
<!--                        content: file.name,-->
<!--                        messageType: messageType,-->
<!--                        fileUrl: data.fileUrl-->
<!--                    };-->

<!--                    return fetch('/api/v1/chat/messages', {-->
<!--                        method: 'POST',-->
<!--                        headers: {-->
<!--                            'Content-Type': 'application/json'-->
<!--                        },-->
<!--                        body: JSON.stringify(messageData)-->
<!--                    });-->
<!--                })-->
<!--                .then(response => response.json())-->
<!--                .then(message => {-->
<!--                    // Update message with server response-->
<!--                    li.dataset.messageId = message.id;-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Update conversation list-->
<!--                    updateUnreadCount(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Error uploading file:', error);-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        handleFileUpload(container, file, messageType);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->
<!--        }-->

<!--        // Hàm hiển thị nội dung tin nhắn dựa trên loại tin nhắn-->
<!--        function renderMessageContent(message) {-->
<!--            // Kiểm tra loại tin nhắn và trả về HTML tương ứng-->
<!--            switch (message.messageType) {-->
<!--                case 'IMAGE':-->
<!--                    // Nếu là ảnh, hiển thị thẻ img với sự kiện click để xem ảnh to-->
<!--                    return `-->
<!--                        <img src="${message.fileUrl}" class="message-image" alt="Image" onclick="showImagePreview('${message.fileUrl}')">-->
<!--                    `;-->
<!--                case 'FILE':-->
<!--                    // Nếu là file, hiển thị link download với icon và tên file-->
<!--                    return `-->
<!--                        <a href="${message.fileUrl}" class="message-file" download>-->
<!--                            <i class="ri-file-line"></i>-->
<!--                            <div class="message-file-info">-->
<!--                                <div class="message-file-name">${message.content}</div>-->
<!--                            </div>-->
<!--                        </a>-->
<!--                    `;-->
<!--                default:-->
<!--                    // Nếu là text, hiển thị nội dung bình thường-->
<!--                    return `<p>${message.content}</p>`;-->
<!--            }-->
<!--        }-->

<!--        // Add image preview functionality-->
<!--        window.showImagePreview = function(imageUrl) {-->
<!--            const modal = document.querySelector('.image-preview-modal');-->
<!--            const img = modal.querySelector('img');-->
<!--            img.src = imageUrl;-->
<!--            modal.classList.add('active');-->

<!--            // Setup download button-->
<!--            const downloadBtn = modal.querySelector('.image-preview-download');-->
<!--            downloadBtn.onclick = function() {-->
<!--                const link = document.createElement('a');-->
<!--                link.href = imageUrl;-->
<!--                link.download = imageUrl.split('/').pop();-->
<!--                document.body.appendChild(link);-->
<!--                link.click();-->
<!--                document.body.removeChild(link);-->
<!--            };-->
<!--        };-->

<!--        // Close image preview-->
<!--        document.querySelector('.image-preview-close').addEventListener('click', function() {-->
<!--            document.querySelector('.image-preview-modal').classList.remove('active');-->
<!--        });-->

<!--        // Close image preview on background click-->
<!--        document.querySelector('.image-preview-modal').addEventListener('click', function(e) {-->
<!--            if (e.target === this) {-->
<!--                this.classList.remove('active');-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->

<!--&lt;!&ndash; Add Image Preview Modal &ndash;&gt;-->
<!--<div class="image-preview-modal">-->
<!--    <div class="image-preview-content">-->
<!--        <span class="image-preview-close"><i class="ri-close-line"></i></span>-->
<!--        <img src="" alt="Preview">-->
<!--        <span class="image-preview-download"><i class="ri-download-line"></i></span>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

<!--Chưa load thêm tin nhắn mới được-->











































<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    /* Loading Spinner Styles */-->
<!--    .loading-messages {-->
<!--        display: flex;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--        padding: 10px;-->
<!--        width: 100%;-->
<!--    }-->

<!--    .loading-spinner {-->
<!--        display: flex;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--        width: 30px;-->
<!--        height: 30px;-->
<!--    }-->

<!--    .loading-spinner i {-->
<!--        font-size: 24px;-->
<!--        color: #666;-->
<!--        animation: spin 1s linear infinite;-->
<!--    }-->

<!--    @keyframes spin {-->
<!--        0% {-->
<!--            transform: rotate(0deg);-->
<!--        }-->
<!--        100% {-->
<!--            transform: rotate(360deg);-->
<!--        }-->
<!--    }-->

<!--    /* Message Status Styles */-->
<!--    .message-status {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--        margin-top: 4px;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 4px;-->
<!--    }-->

<!--    .message-status.sending {-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-status.sent {-->
<!--        color: #4CAF50;-->
<!--    }-->

<!--    .message-status.read {-->
<!--        color: #2196F3;-->
<!--    }-->

<!--    .message-status.error {-->
<!--        color: #f44336;-->
<!--    }-->

<!--    .message-status .retry-button {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        padding: 0;-->
<!--        cursor: pointer;-->
<!--        color: inherit;-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        font-size: 14px;-->
<!--    }-->

<!--    .message-status .retry-button:hover {-->
<!--        opacity: 0.8;-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->

<!--    /* Message Type Styles */-->
<!--    .message-image {-->
<!--        max-width: 300px;-->
<!--        max-height: 300px;-->
<!--        border-radius: 8px;-->
<!--        cursor: pointer;-->
<!--        transition: transform 0.2s;-->
<!--    }-->

<!--    .message-image:hover {-->
<!--        transform: scale(1.02);-->
<!--    }-->

<!--    .message-file {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 10px;-->
<!--        padding: 10px;-->
<!--        background: #f5f5f5;-->
<!--        border-radius: 8px;-->
<!--        text-decoration: none;-->
<!--        color: inherit;-->
<!--    }-->

<!--    .message-file i {-->
<!--        font-size: 24px;-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-file-info {-->
<!--        flex: 1;-->
<!--        min-width: 0;-->
<!--    }-->

<!--    .message-file-name {-->
<!--        font-weight: 500;-->
<!--        white-space: nowrap;-->
<!--        overflow: hidden;-->
<!--        text-overflow: ellipsis;-->
<!--    }-->

<!--    .message-file-size {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--    }-->

<!--    /* Image Preview Modal */-->
<!--    .image-preview-modal {-->
<!--        display: none;-->
<!--        position: fixed;-->
<!--        top: 0;-->
<!--        left: 0;-->
<!--        right: 0;-->
<!--        bottom: 0;-->
<!--        background: rgba(0, 0, 0, 0.9);-->
<!--        z-index: 1000;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .image-preview-modal.active {-->
<!--        display: flex;-->
<!--    }-->

<!--    .image-preview-content {-->
<!--        max-width: 90%;-->
<!--        max-height: 90%;-->
<!--        position: relative;-->
<!--    }-->

<!--    .image-preview-content img {-->
<!--        max-width: 100%;-->
<!--        max-height: 90vh;-->
<!--        object-fit: contain;-->
<!--    }-->

<!--    .image-preview-close {-->
<!--        position: absolute;-->
<!--        top: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 30px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    .image-preview-download {-->
<!--        position: absolute;-->
<!--        bottom: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 24px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    /* File Upload Button */-->
<!--    .conversation-form-upload {-->
<!--        position: relative;-->
<!--        overflow: hidden;-->
<!--        display: inline-block;-->
<!--    }-->

<!--    .conversation-form-upload input[type="file"] {-->
<!--        position: absolute;-->
<!--        left: 0;-->
<!--        top: 0;-->
<!--        opacity: 0;-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        cursor: pointer;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-1">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-2">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone 1</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Get current user info from JWT token-->
<!--        let currentUser = null;-->
<!--        function getCurrentUserFromToken() {-->
<!--            try {-->
<!--                const token = getCookie('auth_token');-->
<!--                if (token) {-->
<!--                    const tokenParts = token.split('.');-->
<!--                    if (tokenParts.length === 3) {-->
<!--                        const payload = JSON.parse(atob(tokenParts[1]));-->
<!--                        return payload;-->
<!--                    }-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error parsing JWT token:', error);-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Get cookie value by name-->
<!--        function getCookie(name) {-->
<!--            const cookies = document.cookie.split(';');-->
<!--            for (let i = 0; i < cookies.length; i++) {-->
<!--                const cookie = cookies[i].trim();-->
<!--                if (cookie.startsWith(name + '=')) {-->
<!--                    return cookie.substring(name.length + 1);-->
<!--                }-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Initialize current user-->
<!--        currentUser = getCurrentUserFromToken();-->
<!--        console.log('Current user from token:', currentUser);-->

<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->
<!--            stompClient.connect({}, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-attachment-2"></i></button>-->
<!--                            <input type="file" class="file-input" accept="*/*">-->
<!--                        </div>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-image-line"></i></button>-->
<!--                            <input type="file" class="image-input" accept="image/*">-->
<!--                        </div>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            // Setup file upload handlers-->
<!--            setupFileUploadHandlers(container);-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container){-->
<!--                console.log("Không tìm thy container conversation")-->
<!--                return;-->
<!--            }-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Reset pagination state-->
<!--            window.currentPage = 0;-->
<!--            window.isLoadingMore = false;-->
<!--            window.hasMoreMessages = true;-->

<!--            // Hiển thị trạng thái đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--                <li class="conversation-item loading">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <div class="skeleton-line skeleton-line-long"></div>-->
<!--                </li>-->
<!--            `;-->

<!--            // Gọi API để lấy tin nhắn-->
<!--            fetchMessages(conversationId, 0, 20).then(messages => {-->
<!--                // Xóa trạng thái đang tải-->
<!--                messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                // Kiểm tra nếu không có tin nhắn-->
<!--                if (messages.length === 0) {-->
<!--                    messagesList.innerHTML += `-->
<!--                        <li class="conversation-item-empty">-->
<!--                            <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                        </li>-->
<!--                    `;-->
<!--                } else {-->
<!--                    // Hiển thị tin nhắn-->
<!--                    renderMessages(messagesList, messages);-->
<!--                }-->

<!--                // Cuộn xuống tin nhắn mới nhất-->
<!--                scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                // Đánh dấu là đã đọc-->
<!--                markConversationAsRead(conversationId);-->

<!--                // Thêm sự kiện scroll để tải thêm tin nhắn-->
<!--                setupInfiniteScroll(container, conversationId);-->
<!--            }).catch(error => {-->
<!--                console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                messagesList.innerHTML = `-->
<!--                    <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                    <li class="conversation-item-error">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                    </li>-->
<!--                `;-->
<!--            });-->
<!--        }-->

<!--        // Hàm fetch tin nhắn từ API-->
<!--        function fetchMessages(conversationId, page, size) {-->
<!--            return fetch(`/api/v1/chat/messages?conversationId=${conversationId}&page=${page}&size=${size}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                });-->
<!--        }-->

<!--        // Thiết lập infinite scroll-->
<!--        function setupInfiniteScroll(container, conversationId) {-->
<!--            const conversationMain = container.querySelector('.conversation-main');-->
<!--            let scrollTimeout;-->

<!--            conversationMain.addEventListener('scroll', function() {-->
<!--                // Clear previous timeout-->
<!--                clearTimeout(scrollTimeout);-->

<!--                // Set new timeout to debounce scroll events-->
<!--                scrollTimeout = setTimeout(() => {-->
<!--                    // Kiểm tra nếu đã ở đầu cuộn và đang không tải thêm tin nhắn-->
<!--                    if (conversationMain.scrollTop === 0 && !window.isLoadingMore && window.hasMoreMessages) {-->
<!--                        loadMoreMessages(conversationId);-->
<!--                    }-->
<!--                }, 150);-->
<!--            });-->
<!--        }-->

<!--        // Tải thêm tin nhắn cũ-->
<!--        function loadMoreMessages(conversationId) {-->
<!--            if (window.isLoadingMore || !window.hasMoreMessages) return;-->

<!--            window.isLoadingMore = true;-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentScrollHeight = container.querySelector('.conversation-main').scrollHeight;-->

<!--            // Thêm loading indicator ở đầu danh sách-->
<!--            const loadingDiv = document.createElement('div');-->
<!--            loadingDiv.className = 'loading-messages';-->
<!--            loadingDiv.innerHTML = `-->
<!--                <div class="loading-spinner">-->
<!--                    <i class="ri-loader-4-line"></i>-->
<!--                </div>-->
<!--            `;-->
<!--            messagesList.insertBefore(loadingDiv, messagesList.firstChild);-->

<!--            // Tăng số trang và tải thêm tin nhắn-->
<!--            window.currentPage++;-->
<!--            fetchMessages(conversationId, window.currentPage, 20)-->
<!--                .then(messages => {-->
<!--                    // Xóa loading indicator-->
<!--                    loadingDiv.remove();-->

<!--                    if (messages.length === 0) {-->
<!--                        window.hasMoreMessages = false;-->
<!--                        return;-->
<!--                    }-->

<!--                    // Lưu vị trí scroll hiện tại-->
<!--                    const scrollContainer = container.querySelector('.conversation-main');-->
<!--                    const oldScrollHeight = scrollContainer.scrollHeight;-->

<!--                    // Thêm tin nhắn mới vào đầu danh sách-->
<!--                    const tempContainer = document.createElement('div');-->
<!--                    renderMessages(tempContainer, messages);-->

<!--                    // Chèn các tin nhắn mới vào trước divider đầu tiên-->
<!--                    const firstDivider = messagesList.querySelector('.coversation-divider');-->
<!--                    if (firstDivider) {-->
<!--                        while (tempContainer.firstChild) {-->
<!--                            messagesList.insertBefore(tempContainer.firstChild, firstDivider);-->
<!--                        }-->
<!--                    } else {-->
<!--                        while (tempContainer.firstChild) {-->
<!--                            messagesList.insertBefore(tempContainer.firstChild, messagesList.firstChild);-->
<!--                        }-->
<!--                    }-->

<!--                    // Điều chỉnh vị trí scroll để giữ nguyên vị trí tương đối-->
<!--                    const newScrollHeight = scrollContainer.scrollHeight;-->
<!--                    scrollContainer.scrollTop = newScrollHeight - oldScrollHeight;-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thêm tin nhắn:", error);-->
<!--                    loadingDiv.remove();-->
<!--                })-->
<!--                .finally(() => {-->
<!--                    window.isLoadingMore = false;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Lấy email người dùng hiện tại từ token để xác định tin nhắn của mình-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            // Duyệt qua từng tin nhắn và tạo HTML-->
<!--            messages.forEach(message => {-->
<!--                // Kiểm tra xem tin nhắn có phải của người dùng hiện tại không-->
<!--                const isMe = message.sender.email === currentUserEmail;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                // Tạo phần tử li cho tin nhắn-->
<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                // Kiểm tra xem có phải tin nhắn mới nhất không để hiển thị trạng thái-->
<!--                const isLatestMessage = messages[messages.length - 1].id === message.id;-->
<!--                const statusHtml = isMe && isLatestMessage ?-->
<!--                    `<div class="message-status">Đã gửi</div>` : '';-->

<!--                // Tạo HTML cho tin nhắn-->
<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    ${renderMessageContent(message)}-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                    ${statusHtml}-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                // Thêm tin nhắn vào container-->
<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)-->
<!--            const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (existingMessage) {-->
<!--                // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần-->
<!--                const statusElement = existingMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem có tin nhắn tạm thời không-->
<!--            const tempMessage = container.querySelector('[data-message-id^="temp-"]');-->
<!--            if (tempMessage) {-->
<!--                // Cập nhật tin nhắn tạm thời với thông tin mới-->
<!--                tempMessage.dataset.messageId = message.id;-->
<!--                const statusElement = tempMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Nếu không có tin nhắn tạm thời và tin nhắn chưa tồn tại, tạo tin nhắn mới-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentUserEmail = currentUser?.email || '';-->
<!--            const isMe = message.sender.email === currentUserEmail;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại-->
<!--            const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');-->
<!--            const statusHtml = isLatestMessage ?-->
<!--                `<div class="message-status">Đã gửi</div>` : '';-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${renderMessageContent(message)}-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                                ${statusHtml}-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->

<!--            // Sau khi xử lý tin nhắn, cập nhật danh sách cuộc hội thoại-->
<!--            updateUnreadCount(conversationId);-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Tìm tin nhắn trong tất cả các cuộc hội thoại-->
<!--            const messageElement = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (messageElement) {-->
<!--                const statusElement = messageElement.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã xem';-->
<!--                    statusElement.className = 'message-status read';-->
<!--                }-->
<!--            }-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    // Cập nhật thông tin cuộc hội thoại-->
<!--                    updateConversationItem(conversationItem, conversation);-->

<!--                    // Sắp xếp lại danh sách cuộc hội thoại-->
<!--                    sortConversationList();-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Cập nhật thông tin của một cuộc hội thoại-->
<!--        function updateConversationItem(item, conversation) {-->
<!--            // Cập nhật số lượng chưa đọc-->
<!--            const unreadContainer = item.querySelector('.content-message-more');-->
<!--            const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--            if (existingBadge) {-->
<!--                if (conversation.unreadCount > 0) {-->
<!--                    existingBadge.textContent = conversation.unreadCount;-->
<!--                } else {-->
<!--                    existingBadge.remove();-->
<!--                }-->
<!--            } else if (conversation.unreadCount > 0) {-->
<!--                const badge = document.createElement('span');-->
<!--                badge.className = 'content-message-unread';-->
<!--                badge.textContent = conversation.unreadCount;-->
<!--                unreadContainer.prepend(badge);-->
<!--            }-->

<!--            // Cập nhật tin nhắn cuối cùng-->
<!--            if (conversation.lastMessage) {-->
<!--                const messageTextElement = item.querySelector('.content-message-text');-->
<!--                messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                const timeElement = item.querySelector('.content-message-time');-->
<!--                timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--            }-->

<!--            // Cập nhật thời gian cập nhật cuộc hội thoại-->
<!--            item.dataset.updatedAt = conversation.updatedAt;-->
<!--        }-->

<!--        // Sắp xếp lại danh sách cuộc hội thoại-->
<!--        function sortConversationList() {-->
<!--            const list = document.querySelector('.content-messages-list');-->
<!--            const items = Array.from(list.querySelectorAll('li:not(.content-message-title)'));-->

<!--            // Sắp xếp các cuộc hội thoại theo thời gian cập nhật mới nhất-->
<!--            items.sort((a, b) => {-->
<!--                const timeA = new Date(a.dataset.updatedAt || 0);-->
<!--                const timeB = new Date(b.dataset.updatedAt || 0);-->
<!--                return timeB - timeA;-->
<!--            });-->

<!--            // Lấy phần tử tiêu đề "Recently"-->
<!--            const titleElement = list.querySelector('.content-message-title');-->

<!--            // Xóa tất cả các phần tử hiện tại-->
<!--            while (list.firstChild) {-->
<!--                list.removeChild(list.firstChild);-->
<!--            }-->

<!--            // Thêm lại tiêu đề-->
<!--            list.appendChild(titleElement);-->

<!--            // Thêm lại các cuộc hội thoại đã sắp xếp-->
<!--            items.forEach(item => {-->
<!--                list.appendChild(item);-->
<!--            });-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Tạo tin nhắn tạm thời với trạng thái "Đang gửi..."-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->

<!--            // Xóa trạng thái của tin nhắn trước đó-->
<!--            const previousStatus = messagesList.querySelector('.message-status');-->
<!--            if (previousStatus) {-->
<!--                previousStatus.remove();-->
<!--            }-->

<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(new Date())}</div>-->
<!--                                <div class="message-status sending">Đang gửi...</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Gửi qua API REST-->
<!--            fetch('/api/v1/chat/messages', {-->
<!--                method: 'POST',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                },-->
<!--                body: JSON.stringify(messageData)-->
<!--            })-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(message => {-->
<!--                    // Cập nhật trạng thái tin nhắn thành "Đã gửi"-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Cập nhật ID tin nhắn tạm thời thành ID thật-->
<!--                    li.dataset.messageId = message.id;-->

<!--                    // Cập nhật danh sách cuộc hội thoại-->
<!--                    updateUnreadCount(conversationId);-->

<!--                    console.log('Tin nhắn đã gửi thành công:', message);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Lỗi khi gửi tin nhắn:', error);-->
<!--                    // Cập nhật trạng thái tin nhắn thành lỗi-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    // Thêm nút thử lại-->
<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        sendMessage(conversationId, content);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->

<!--            // Gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->

<!--        // Add file size formatting function-->
<!--        function formatFileSize(bytes) {-->
<!--            if (bytes === 0) return '0 Bytes';-->
<!--            const k = 1024;-->
<!--            const sizes = ['Bytes', 'KB', 'MB', 'GB'];-->
<!--            const i = Math.floor(Math.log(bytes) / Math.log(k));-->
<!--            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];-->
<!--        }-->

<!--        // Setup file upload handlers-->
<!--        function setupFileUploadHandlers(container) {-->
<!--            const fileInput = container.querySelector('.file-input');-->
<!--            const imageInput = container.querySelector('.image-input');-->

<!--            fileInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'FILE');-->
<!--                }-->
<!--            });-->

<!--            imageInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'IMAGE');-->
<!--                }-->
<!--            });-->
<!--        }-->

<!--        // Handle file upload-->
<!--        function handleFileUpload(container, file, messageType) {-->
<!--            const conversationId = container.querySelector('.conversation-form-submit').getAttribute('data-conversation-id');-->
<!--            const formData = new FormData();-->
<!--            formData.append('file', file);-->
<!--            formData.append('conversationId', conversationId);-->
<!--            formData.append('messageType', messageType);-->

<!--            // Show loading state-->
<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            let contentHtml = '';-->
<!--            if (messageType === 'IMAGE') {-->
<!--                contentHtml = `-->
<!--                    <img src="${URL.createObjectURL(file)}" class="message-image" alt="Uploading...">-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            } else {-->
<!--                contentHtml = `-->
<!--                    <div class="message-file">-->
<!--                        <i class="ri-file-line"></i>-->
<!--                        <div class="message-file-info">-->
<!--                            <div class="message-file-name">${file.name}</div>-->
<!--                            <div class="message-file-size">${formatFileSize(file.size)}</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            }-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${contentHtml}-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Upload file to server-->
<!--            fetch('/api/v1/chat/upload', {-->
<!--                method: 'POST',-->
<!--                body: formData-->
<!--            })-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->
<!--                    // Send message with file URL-->
<!--                    const messageData = {-->
<!--                        conversationId: conversationId,-->
<!--                        content: file.name,-->
<!--                        messageType: messageType,-->
<!--                        fileUrl: data.fileUrl-->
<!--                    };-->

<!--                    return fetch('/api/v1/chat/messages', {-->
<!--                        method: 'POST',-->
<!--                        headers: {-->
<!--                            'Content-Type': 'application/json'-->
<!--                        },-->
<!--                        body: JSON.stringify(messageData)-->
<!--                    });-->
<!--                })-->
<!--                .then(response => response.json())-->
<!--                .then(message => {-->
<!--                    // Update message with server response-->
<!--                    li.dataset.messageId = message.id;-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->

<!--                    // Update conversation list-->
<!--                    updateUnreadCount(conversationId);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Error uploading file:', error);-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        handleFileUpload(container, file, messageType);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->
<!--        }-->

<!--        // Hàm hiển thị nội dung tin nhắn dựa trên loại tin nhắn-->
<!--        function renderMessageContent(message) {-->
<!--            // Kiểm tra loại tin nhắn và trả về HTML tương ứng-->
<!--            switch (message.messageType) {-->
<!--                case 'IMAGE':-->
<!--                    // Nếu là ảnh, hiển thị thẻ img với sự kiện click để xem ảnh to-->
<!--                    return `-->
<!--                        <img src="${message.fileUrl}" class="message-image" alt="Image" onclick="showImagePreview('${message.fileUrl}')">-->
<!--                    `;-->
<!--                case 'FILE':-->
<!--                    // Nếu là file, hiển thị link download với icon và tên file-->
<!--                    return `-->
<!--                        <a href="${message.fileUrl}" class="message-file" download>-->
<!--                            <i class="ri-file-line"></i>-->
<!--                            <div class="message-file-info">-->
<!--                                <div class="message-file-name">${message.content}</div>-->
<!--                            </div>-->
<!--                        </a>-->
<!--                    `;-->
<!--                default:-->
<!--                    // Nếu là text, hiển thị nội dung bình thường-->
<!--                    return `<p>${message.content}</p>`;-->
<!--            }-->
<!--        }-->

<!--        // Add image preview functionality-->
<!--        window.showImagePreview = function(imageUrl) {-->
<!--            const modal = document.querySelector('.image-preview-modal');-->
<!--            const img = modal.querySelector('img');-->
<!--            img.src = imageUrl;-->
<!--            modal.classList.add('active');-->

<!--            // Setup download button-->
<!--            const downloadBtn = modal.querySelector('.image-preview-download');-->
<!--            downloadBtn.onclick = function() {-->
<!--                const link = document.createElement('a');-->
<!--                link.href = imageUrl;-->
<!--                link.download = imageUrl.split('/').pop();-->
<!--                document.body.appendChild(link);-->
<!--                link.click();-->
<!--                document.body.removeChild(link);-->
<!--            };-->
<!--        };-->

<!--        // Close image preview-->
<!--        document.querySelector('.image-preview-close').addEventListener('click', function() {-->
<!--            document.querySelector('.image-preview-modal').classList.remove('active');-->
<!--        });-->

<!--        // Close image preview on background click-->
<!--        document.querySelector('.image-preview-modal').addEventListener('click', function(e) {-->
<!--            if (e.target === this) {-->
<!--                this.classList.remove('active');-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->

<!--&lt;!&ndash; Add Image Preview Modal &ndash;&gt;-->
<!--<div class="image-preview-modal">-->
<!--    <div class="image-preview-content">-->
<!--        <span class="image-preview-close"><i class="ri-close-line"></i></span>-->
<!--        <img src="" alt="Preview">-->
<!--        <span class="image-preview-download"><i class="ri-download-line"></i></span>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

<!--Đang gửi request send tin nhắn ở cả server và websocket-->

























<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/tailwindcss-colors.css">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--    <title>Chat</title>-->
<!--</head>-->
<!--<style>-->
<!--    /* Skeleton Loading Styles */-->
<!--    @keyframes pulse {-->
<!--        0% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--        50% {-->
<!--            opacity: 1;-->
<!--        }-->
<!--        100% {-->
<!--            opacity: 0.6;-->
<!--        }-->
<!--    }-->

<!--    /* Loading Spinner Styles */-->
<!--    .loading-messages {-->
<!--        display: flex;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--        padding: 10px;-->
<!--        width: 100%;-->
<!--    }-->

<!--    .loading-spinner {-->
<!--        display: flex;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--        width: 30px;-->
<!--        height: 30px;-->
<!--    }-->

<!--    .loading-spinner i {-->
<!--        font-size: 24px;-->
<!--        color: #666;-->
<!--        animation: spin 1s linear infinite;-->
<!--    }-->

<!--    @keyframes spin {-->
<!--        0% {-->
<!--            transform: rotate(0deg);-->
<!--        }-->
<!--        100% {-->
<!--            transform: rotate(360deg);-->
<!--        }-->
<!--    }-->

<!--    /* Message Status Styles */-->
<!--    .message-status {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--        margin-top: 4px;-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 4px;-->
<!--    }-->

<!--    .message-status.sending {-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-status.sent {-->
<!--        color: #4CAF50;-->
<!--    }-->

<!--    .message-status.read {-->
<!--        color: #2196F3;-->
<!--    }-->

<!--    .message-status.error {-->
<!--        color: #f44336;-->
<!--    }-->

<!--    .message-status .retry-button {-->
<!--        background: none;-->
<!--        border: none;-->
<!--        padding: 0;-->
<!--        cursor: pointer;-->
<!--        color: inherit;-->
<!--        display: inline-flex;-->
<!--        align-items: center;-->
<!--        font-size: 14px;-->
<!--    }-->

<!--    .message-status .retry-button:hover {-->
<!--        opacity: 0.8;-->
<!--    }-->

<!--    .skeleton-item a {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        padding: 15px;-->
<!--        text-decoration: none;-->
<!--        position: relative;-->
<!--    }-->

<!--    .skeleton-circle {-->
<!--        width: 40px;-->
<!--        height: 40px;-->
<!--        border-radius: 50%;-->
<!--        background-color: #eaeaea;-->
<!--        margin-right: 15px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-info {-->
<!--        flex: 1;-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        gap: 8px;-->
<!--    }-->

<!--    .skeleton-line {-->
<!--        height: 12px;-->
<!--        background-color: #eaeaea;-->
<!--        border-radius: 4px;-->
<!--        animation: pulse 1.5s infinite ease-in-out;-->
<!--    }-->

<!--    .skeleton-line-short {-->
<!--        width: 40%;-->
<!--    }-->

<!--    .skeleton-line-long {-->
<!--        width: 85%;-->
<!--    }-->

<!--    .skeleton-line-tiny {-->
<!--        width: 40px;-->
<!--        height: 10px;-->
<!--    }-->

<!--    .skeleton-more {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: flex-end;-->
<!--        gap: 5px;-->
<!--    }-->

<!--    /* Error and Empty States */-->
<!--    .error-message, .empty-message {-->
<!--        display: flex;-->
<!--        flex-direction: column;-->
<!--        align-items: center;-->
<!--        justify-content: center;-->
<!--        padding: 30px 15px;-->
<!--        text-align: center;-->
<!--        color: #666;-->
<!--    }-->

<!--    .error-message i, .empty-message i {-->
<!--        font-size: 30px;-->
<!--        margin-bottom: 10px;-->
<!--        color: #999;-->
<!--    }-->

<!--    .retry-button {-->
<!--        margin-top: 15px;-->
<!--        padding: 8px 20px;-->
<!--        background-color: #f2f2f2;-->
<!--        border: none;-->
<!--        border-radius: 4px;-->
<!--        cursor: pointer;-->
<!--        font-size: 14px;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .retry-button:hover {-->
<!--        background-color: #e0e0e0;-->
<!--    }-->

<!--    /* Message Type Styles */-->
<!--    .message-image {-->
<!--        max-width: 300px;-->
<!--        max-height: 300px;-->
<!--        border-radius: 8px;-->
<!--        cursor: pointer;-->
<!--        transition: transform 0.2s;-->
<!--    }-->

<!--    .message-image:hover {-->
<!--        transform: scale(1.02);-->
<!--    }-->

<!--    .message-file {-->
<!--        display: flex;-->
<!--        align-items: center;-->
<!--        gap: 10px;-->
<!--        padding: 10px;-->
<!--        background: #f5f5f5;-->
<!--        border-radius: 8px;-->
<!--        text-decoration: none;-->
<!--        color: inherit;-->
<!--    }-->

<!--    .message-file i {-->
<!--        font-size: 24px;-->
<!--        color: #666;-->
<!--    }-->

<!--    .message-file-info {-->
<!--        flex: 1;-->
<!--        min-width: 0;-->
<!--    }-->

<!--    .message-file-name {-->
<!--        font-weight: 500;-->
<!--        white-space: nowrap;-->
<!--        overflow: hidden;-->
<!--        text-overflow: ellipsis;-->
<!--    }-->

<!--    .message-file-size {-->
<!--        font-size: 12px;-->
<!--        color: #666;-->
<!--    }-->

<!--    /* Image Preview Modal */-->
<!--    .image-preview-modal {-->
<!--        display: none;-->
<!--        position: fixed;-->
<!--        top: 0;-->
<!--        left: 0;-->
<!--        right: 0;-->
<!--        bottom: 0;-->
<!--        background: rgba(0, 0, 0, 0.9);-->
<!--        z-index: 1000;-->
<!--        justify-content: center;-->
<!--        align-items: center;-->
<!--    }-->

<!--    .image-preview-modal.active {-->
<!--        display: flex;-->
<!--    }-->

<!--    .image-preview-content {-->
<!--        max-width: 90%;-->
<!--        max-height: 90%;-->
<!--        position: relative;-->
<!--    }-->

<!--    .image-preview-content img {-->
<!--        max-width: 100%;-->
<!--        max-height: 90vh;-->
<!--        object-fit: contain;-->
<!--    }-->

<!--    .image-preview-close {-->
<!--        position: absolute;-->
<!--        top: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 30px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    .image-preview-download {-->
<!--        position: absolute;-->
<!--        bottom: -40px;-->
<!--        right: 0;-->
<!--        color: white;-->
<!--        font-size: 24px;-->
<!--        cursor: pointer;-->
<!--    }-->

<!--    /* File Upload Button */-->
<!--    .conversation-form-upload {-->
<!--        position: relative;-->
<!--        overflow: hidden;-->
<!--        display: inline-block;-->
<!--    }-->

<!--    .conversation-form-upload input[type="file"] {-->
<!--        position: absolute;-->
<!--        left: 0;-->
<!--        top: 0;-->
<!--        opacity: 0;-->
<!--        width: 100%;-->
<!--        height: 100%;-->
<!--        cursor: pointer;-->
<!--    }-->
<!--</style>-->
<!--<body>-->

<!--&lt;!&ndash; start: Chat &ndash;&gt;-->
<!--<section class="chat-section">-->
<!--    <div class="chat-container">-->
<!--        &lt;!&ndash; start: Sidebar &ndash;&gt;-->
<!--        <aside class="chat-sidebar">-->
<!--            <a href="#" class="chat-sidebar-logo">-->
<!--                <i class="ri-chat-1-fill"></i>-->
<!--            </a>-->
<!--            <ul class="chat-sidebar-menu">-->
<!--                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>-->
<!--                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>-->
<!--                <li class="chat-sidebar-profile">-->
<!--                    <button type="button" class="chat-sidebar-profile-toggle">-->
<!--                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                    </button>-->
<!--                    <ul class="chat-sidebar-profile-dropdown">-->
<!--                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>-->
<!--                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>-->
<!--                    </ul>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </aside>-->
<!--        &lt;!&ndash; end: Sidebar &ndash;&gt;-->
<!--        &lt;!&ndash; start: Content &ndash;&gt;-->
<!--        <div class="chat-content">-->
<!--            &lt;!&ndash; start: Content side &ndash;&gt;-->
<!--            <div class="content-sidebar">-->
<!--                <div class="content-sidebar-title">Chats</div>-->
<!--                <form action="" class="content-sidebar-form">-->
<!--                    <input type="search" class="content-sidebar-input" placeholder="Search...">-->
<!--                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>-->
<!--                </form>-->
<!--                <div class="content-messages">-->
<!--                    <ul class="content-messages-list">-->
<!--                        <li class="content-message-title"><span>Recently</span></li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-1">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#" data-conversation="#conversation-2">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-unread">5</span>-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                        <li>-->
<!--                            <a href="#">-->
<!--                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">-->
<!--                                <span class="content-message-info">-->
<!--                                        <span class="content-message-name">Someone</span>-->
<!--                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>-->
<!--                                    </span>-->
<!--                                <span class="content-message-more">-->
<!--                                        <span class="content-message-time">12:30</span>-->
<!--                                    </span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </div>-->
<!--            </div>-->
<!--            &lt;!&ndash; end: Content side &ndash;&gt;-->
<!--            &lt;!&ndash; start: Conversation &ndash;&gt;-->
<!--            <div class="conversation conversation-default active">-->
<!--                <i class="ri-chat-3-line"></i>-->
<!--                <p>Select chat and view conversation!</p>-->
<!--            </div>-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-1">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            <div class="conversation" id="conversation-2">&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-top">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-user">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <img class="conversation-user-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-name">Someone 1</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-user-status online">online</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-buttons">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-phone-fill"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-vidicon-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button"><i class="ri-information-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-main">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <ul class="conversation-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <div class="coversation-divider"><span>Today</span></div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Amet natus repudiandae quisquam sequi nobis suscipit consequatur rerum alias odio repellat!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, tenetur!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eos ab in?</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint, debitis. Iste natus est aliquam ipsum doloremque fugiat, quidem eos autem? Dolor quisquam laboriosam enim cum laborum suscipit perferendis adipisci praesentium.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <li class="conversation-item me">&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-side">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <img class="conversation-item-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            <div class="conversation-item-content">&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas, eos, magni temporibus, placeat consectetur nobis incidunt dicta a culpa vel esse. Facilis fugiat possimus eveniet accusamus dignissimos pariatur inventore animi rem vero, eligendi obcaecati fugit quaerat? Officia ex quod eaque maxime ipsam, tempore error laboriosam laborum, magnam ipsum doloremque quas.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus debitis odio maiores perferendis ipsa repudiandae amet blanditiis quod. Ullam, dolorum.</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                <div class="conversation-item-wrapper">&ndash;&gt;-->
<!--            &lt;!&ndash;                                    <div class="conversation-item-box">&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-text">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Accusantium blanditiis ea, voluptatum, eveniet at harum minima maxime enim aut non, iure expedita excepturi tempore nostrum quasi natus voluptas dolore ducimus!</p>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <div class="conversation-item-time">12:30</div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        <div class="conversation-item-dropdown">&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            <ul class="conversation-item-dropdown-list">&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-share-forward-line"></i> Forward</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                                <li><a href="#"><i class="ri-delete-bin-line"></i> Delete</a></li>&ndash;&gt;-->
<!--            &lt;!&ndash;                                            </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                            </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                        </li>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </ul>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                <div class="conversation-form">&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <div class="conversation-form-group">&ndash;&gt;-->
<!--            &lt;!&ndash;                        <textarea class="conversation-form-input" rows="1" placeholder="Type here..."></textarea>&ndash;&gt;-->
<!--            &lt;!&ndash;                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                    </div>&ndash;&gt;-->
<!--            &lt;!&ndash;                    <button id="button-send" type="button" class="conversation-form-button conversation-form-submit"><i class="ri-send-plane-2-line"></i></button>&ndash;&gt;-->
<!--            &lt;!&ndash;                </div>&ndash;&gt;-->
<!--            &lt;!&ndash;            </div>&ndash;&gt;-->
<!--            &lt;!&ndash; end: Conversation &ndash;&gt;-->
<!--        </div>-->
<!--        &lt;!&ndash; end: Content &ndash;&gt;-->
<!--    </div>-->
<!--</section>-->
<!--&lt;!&ndash; end: Chat &ndash;&gt;-->

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", function () {-->
<!--        // Get current user info from JWT token-->
<!--        let currentUser = null;-->
<!--        function getCurrentUserFromToken() {-->
<!--            try {-->
<!--                const token = getCookie('auth_token');-->
<!--                if (token) {-->
<!--                    const tokenParts = token.split('.');-->
<!--                    if (tokenParts.length === 3) {-->
<!--                        const payload = JSON.parse(atob(tokenParts[1]));-->
<!--                        return payload;-->
<!--                    }-->
<!--                }-->
<!--            } catch (error) {-->
<!--                console.error('Error parsing JWT token:', error);-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Get cookie value by name-->
<!--        function getCookie(name) {-->
<!--            const cookies = document.cookie.split(';');-->
<!--            for (let i = 0; i < cookies.length; i++) {-->
<!--                const cookie = cookies[i].trim();-->
<!--                if (cookie.startsWith(name + '=')) {-->
<!--                    return cookie.substring(name.length + 1);-->
<!--                }-->
<!--            }-->
<!--            return null;-->
<!--        }-->

<!--        // Initialize current user-->
<!--        currentUser = getCurrentUserFromToken();-->
<!--        console.log('Current user from token:', currentUser);-->

<!--        // Hiển thị skeleton loading trước-->
<!--        showSkeletonLoading();-->

<!--        // Lấy danh sách hội thoại từ API-->
<!--        fetchConversations();-->

<!--        // Thiết lập kết nối WebSocket-->
<!--        let stompClient = null;-->
<!--        connectWebSocket();-->

<!--        // Hàm kết nối WebSocket-->
<!--        function connectWebSocket() {-->
<!--            const socket = new SockJS('/ws');-->
<!--            stompClient = Stomp.over(socket);-->

<!--            // Thêm token vào header khi kết nối-->
<!--            const token = getCookie('auth_token');-->
<!--            const headers = {-->
<!--                'Authorization': `Bearer ${token}`-->
<!--            };-->

<!--            stompClient.connect(headers, function (frame) {-->
<!--                console.log('Đã kết nối tới WebSocket: ' + frame);-->
<!--                // Chúng ta sẽ đăng ký lắng nghe kênh cụ thể khi người dùng chọn một cuộc hội thoại-->
<!--            }, function(error) {-->
<!--                console.error('Lỗi kết nối WebSocket:', error);-->
<!--                // Thử kết nối lại sau 5 giây-->
<!--                setTimeout(connectWebSocket, 5000);-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị loading skeleton khi đang tải dữ liệu-->
<!--        function showSkeletonLoading() {-->
<!--            const list = document.querySelector(".content-messages-list");-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            // Tạo 5 mục skeleton-->
<!--            for (let i = 0; i < 5; i++) {-->
<!--                const li = document.createElement("li");-->
<!--                li.classList.add("skeleton-item");-->
<!--                li.innerHTML = `-->
<!--                <a href="#">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <span class="skeleton-info">-->
<!--                        <span class="skeleton-line skeleton-line-short"></span>-->
<!--                        <span class="skeleton-line skeleton-line-long"></span>-->
<!--                    </span>-->
<!--                    <span class="skeleton-more">-->
<!--                        <span class="skeleton-line skeleton-line-tiny"></span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            }-->
<!--        }-->

<!--        // Lấy danh sách cuộc hội thoại từ API-->
<!--        function fetchConversations() {-->
<!--            fetch("/api/v1/chat/conversations/all")-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversations => {-->
<!--                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật-->
<!--                    renderConversations(conversations);-->
<!--                    setupConversationListeners();-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải dữ liệu:", error);-->
<!--                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton-->
<!--                    const list = document.querySelector(".content-messages-list");-->
<!--                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--                    const errorLi = document.createElement("li");-->
<!--                    errorLi.innerHTML = `-->
<!--                    <div class="error-message">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="location.reload()">Thử lại</button>-->
<!--                    </div>-->
<!--                `;-->
<!--                    list.appendChild(errorLi);-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách cuộc hội thoại-->
<!--        function renderConversations(conversations) {-->
<!--            const list = document.querySelector(".content-messages-list");-->

<!--            // Xóa skeleton loading-->
<!--            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';-->

<!--            if (conversations.length === 0) {-->
<!--                const emptyLi = document.createElement("li");-->
<!--                emptyLi.innerHTML = `-->
<!--                <div class="empty-message">-->
<!--                    <i class="ri-chat-3-line"></i>-->
<!--                    <p>Chưa có cuộc hội thoại nào</p>-->
<!--                </div>-->
<!--            `;-->
<!--                list.appendChild(emptyLi);-->
<!--                return;-->
<!--            }-->

<!--            conversations.forEach((conv) => {-->
<!--                const updatedAtFormatted = formatTime(conv.updatedAt);-->
<!--                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';-->

<!--                const li = document.createElement("li");-->
<!--                li.dataset.conversationId = conv.id;-->
<!--                li.innerHTML = `-->
<!--                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">-->
<!--                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    <span class="content-message-info">-->
<!--                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>-->
<!--                        <span class="content-message-text">${lastMessageText}</span>-->
<!--                    </span>-->
<!--                    <span class="content-message-more">-->
<!--                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}-->
<!--                        <span class="content-message-time">${updatedAtFormatted}</span>-->
<!--                    </span>-->
<!--                </a>-->
<!--            `;-->
<!--                list.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại-->
<!--        function setupConversationListeners() {-->
<!--            // Thêm sự kiện click cho các mục hội thoại-->
<!--            document.querySelectorAll('.conversation-link').forEach(link => {-->
<!--                link.addEventListener('click', function(e) {-->
<!--                    e.preventDefault();-->

<!--                    // Lấy ID cuộc hội thoại từ thuộc tính data-->
<!--                    const conversationId = this.getAttribute('data-conversation-id');-->

<!--                    // Hiển thị container cuộc hội thoại-->
<!--                    showConversation(conversationId);-->

<!--                    // Tải tin nhắn cho cuộc hội thoại này-->
<!--                    loadMessages(conversationId);-->

<!--                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này-->
<!--                    subscribeToConversation(conversationId);-->
<!--                });-->
<!--            });-->

<!--            // Thêm sự kiện cho nút quay lại-->
<!--            document.querySelectorAll('.conversation-back').forEach(button => {-->
<!--                button.addEventListener('click', function() {-->
<!--                    // Ẩn tất cả các container hội thoại-->
<!--                    document.querySelectorAll('.conversation').forEach(container => {-->
<!--                        container.classList.remove('active');-->
<!--                    });-->

<!--                    // Hiển thị container mặc định-->
<!--                    document.querySelector('.conversation-default').classList.add('active');-->
<!--                });-->
<!--            });-->
<!--        }-->

<!--        // Hiển thị cuộc hội thoại được chọn-->
<!--        function showConversation(conversationId) {-->
<!--            // Ẩn tất cả các container hội thoại-->
<!--            document.querySelectorAll('.conversation').forEach(container => {-->
<!--                container.classList.remove('active');-->
<!--            });-->

<!--            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa-->
<!--            let container = document.getElementById(`conversation-${conversationId}`);-->

<!--            if (!container) {-->
<!--                // Tạo container mới nếu chưa tồn tại-->
<!--                container = createConversationContainer(conversationId);-->
<!--            }-->

<!--            // Hiển thị container hội thoại-->
<!--            container.classList.add('active');-->
<!--        }-->

<!--        // Tạo container hội thoại mới-->
<!--        function createConversationContainer(conversationId) {-->
<!--            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                })-->
<!--                .then(conversation => {-->
<!--                    updateConversationHeader(conversationId, conversation);-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thông tin hội thoại:", error);-->
<!--                });-->

<!--            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)-->
<!--            const container = document.createElement('div');-->
<!--            container.className = 'conversation';-->
<!--            container.id = `conversation-${conversationId}`;-->

<!--            container.innerHTML = `-->
<!--                <div class="conversation-top">-->
<!--                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                    <div class="conversation-user">-->
<!--                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">-->
<!--                        <div>-->
<!--                            <div class="conversation-user-name">Đang tải...</div>-->
<!--                            <div class="conversation-user-status">...</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="conversation-buttons">-->
<!--                        <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                        <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                        <button type="button"><i class="ri-information-line"></i></button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-main">-->
<!--                    <ul class="conversation-wrapper">-->
<!--                        <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                        &lt;!&ndash; Tin nhắn sẽ được tải ở đây &ndash;&gt;-->
<!--                    </ul>-->
<!--                </div>-->
<!--                <div class="conversation-form">-->
<!--                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>-->
<!--                    <div class="conversation-form-group">-->
<!--                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-attachment-2"></i></button>-->
<!--                            <input type="file" class="file-input" accept="*/*">-->
<!--                        </div>-->
<!--                        <div class="conversation-form-upload">-->
<!--                            <button type="button" class="conversation-form-button"><i class="ri-image-line"></i></button>-->
<!--                            <input type="file" class="image-input" accept="image/*">-->
<!--                        </div>-->
<!--                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>-->
<!--                    </div>-->
<!--                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">-->
<!--                        <i class="ri-send-plane-2-line"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm container vào khu vực nội dung-->
<!--            document.querySelector('.chat-content').appendChild(container);-->

<!--            // Thiết lập sự kiện cho container mới-->
<!--            setupSendMessageListener(container.querySelector('.conversation-form-submit'));-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                // Ẩn tất cả container hội thoại-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->

<!--                // Hiển thị container mặc định-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->

<!--            // Setup file upload handlers-->
<!--            setupFileUploadHandlers(container);-->

<!--            return container;-->
<!--        }-->

<!--        // Cập nhật header của cuộc hội thoại với thông tin người dùng-->
<!--        function updateConversationHeader(conversationId, conversation) {-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container){-->
<!--                console.log("Không tìm thy container conversation")-->
<!--                return;-->
<!--            }-->

<!--            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';-->
<!--            const userName = conversation.customer.fullName || 'Không có tên';-->
<!--            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng-->

<!--            const header = container.querySelector('.conversation-top');-->
<!--            header.innerHTML = `-->
<!--                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>-->
<!--                <div class="conversation-user">-->
<!--                    <img class="conversation-user-image" src="${userImage}" alt="">-->
<!--                    <div>-->
<!--                        <div class="conversation-user-name">${userName}</div>-->
<!--                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="conversation-buttons">-->
<!--                    <button type="button"><i class="ri-phone-fill"></i></button>-->
<!--                    <button type="button"><i class="ri-vidicon-line"></i></button>-->
<!--                    <button type="button"><i class="ri-information-line"></i></button>-->
<!--                </div>-->
<!--            `;-->

<!--            // Thêm lại sự kiện cho nút quay lại-->
<!--            container.querySelector('.conversation-back').addEventListener('click', function() {-->
<!--                document.querySelectorAll('.conversation').forEach(c => {-->
<!--                    c.classList.remove('active');-->
<!--                });-->
<!--                document.querySelector('.conversation-default').classList.add('active');-->
<!--            });-->
<!--        }-->

<!--        // Tải tin nhắn cho cuộc hội thoại-->
<!--        function loadMessages(conversationId) {-->
<!--            // Reset pagination state-->
<!--            window.currentPage = 0;-->
<!--            window.isLoadingMore = false;-->
<!--            window.hasMoreMessages = true;-->

<!--            // Hiển thị trạng thái đang tải-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            messagesList.innerHTML = `-->
<!--                <li class="conversation-item loading">-->
<!--                    <div class="skeleton-circle"></div>-->
<!--                    <div class="skeleton-line skeleton-line-long"></div>-->
<!--                </li>-->
<!--            `;-->

<!--            // Gọi API để lấy tin nhắn-->
<!--            fetchMessages(conversationId, 0, 20).then(messages => {-->
<!--                // Xóa trạng thái đang tải-->
<!--                messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;-->

<!--                // Kiểm tra nếu không có tin nhắn-->
<!--                if (messages.length === 0) {-->
<!--                    messagesList.innerHTML += `-->
<!--                        <li class="conversation-item-empty">-->
<!--                            <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>-->
<!--                        </li>-->
<!--                    `;-->
<!--                } else {-->
<!--                    // Hiển thị tin nhắn-->
<!--                    renderMessages(messagesList, messages);-->
<!--                }-->

<!--                // Cuộn xuống tin nhắn mới nhất-->
<!--                scrollToBottom(container.querySelector('.conversation-main'));-->

<!--                // Đánh dấu là đã đọc-->
<!--                markConversationAsRead(conversationId);-->

<!--                // Thêm sự kiện scroll để tải thêm tin nhắn-->
<!--                setupInfiniteScroll(container, conversationId);-->
<!--            }).catch(error => {-->
<!--                console.error("Lỗi khi tải tin nhắn:", error);-->
<!--                messagesList.innerHTML = `-->
<!--                    <div class="coversation-divider"><span>Hôm nay</span></div>-->
<!--                    <li class="conversation-item-error">-->
<!--                        <i class="ri-error-warning-line"></i>-->
<!--                        <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>-->
<!--                        <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>-->
<!--                    </li>-->
<!--                `;-->
<!--            });-->
<!--        }-->

<!--        // Hàm fetch tin nhắn từ API-->
<!--        function fetchMessages(conversationId, page, size) {-->
<!--            return fetch(`/api/v1/chat/messages?conversationId=${conversationId}&page=${page}&size=${size}`)-->
<!--                .then(response => {-->
<!--                    if (!response.ok) {-->
<!--                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);-->
<!--                    }-->
<!--                    return response.json();-->
<!--                });-->
<!--        }-->

<!--        // Thiết lập infinite scroll-->
<!--        function setupInfiniteScroll(container, conversationId) {-->
<!--            const conversationMain = container.querySelector('.conversation-main');-->
<!--            let scrollTimeout;-->

<!--            conversationMain.addEventListener('scroll', function() {-->
<!--                // Clear previous timeout-->
<!--                clearTimeout(scrollTimeout);-->

<!--                // Set new timeout to debounce scroll events-->
<!--                scrollTimeout = setTimeout(() => {-->
<!--                    // Kiểm tra nếu đã ở đầu cuộn và đang không tải thêm tin nhắn-->
<!--                    if (conversationMain.scrollTop === 0 && !window.isLoadingMore && window.hasMoreMessages) {-->
<!--                        loadMoreMessages(conversationId);-->
<!--                    }-->
<!--                }, 150);-->
<!--            });-->
<!--        }-->

<!--        // Tải thêm tin nhắn cũ-->
<!--        function loadMoreMessages(conversationId) {-->
<!--            if (window.isLoadingMore || !window.hasMoreMessages) return;-->

<!--            window.isLoadingMore = true;-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentScrollHeight = container.querySelector('.conversation-main').scrollHeight;-->

<!--            // Thêm loading indicator ở đầu danh sách-->
<!--            const loadingDiv = document.createElement('div');-->
<!--            loadingDiv.className = 'loading-messages';-->
<!--            loadingDiv.innerHTML = `-->
<!--                <div class="loading-spinner">-->
<!--                    <i class="ri-loader-4-line"></i>-->
<!--                </div>-->
<!--            `;-->
<!--            messagesList.insertBefore(loadingDiv, messagesList.firstChild);-->

<!--            // Tăng số trang và tải thêm tin nhắn-->
<!--            window.currentPage++;-->
<!--            fetchMessages(conversationId, window.currentPage, 20)-->
<!--                .then(messages => {-->
<!--                    // Xóa loading indicator-->
<!--                    loadingDiv.remove();-->

<!--                    if (messages.length === 0) {-->
<!--                        window.hasMoreMessages = false;-->
<!--                        return;-->
<!--                    }-->

<!--                    // Lưu vị trí scroll hiện tại-->
<!--                    const scrollContainer = container.querySelector('.conversation-main');-->
<!--                    const oldScrollHeight = scrollContainer.scrollHeight;-->

<!--                    // Thêm tin nhắn mới vào đầu danh sách-->
<!--                    const tempContainer = document.createElement('div');-->
<!--                    renderMessages(tempContainer, messages);-->

<!--                    // Chèn các tin nhắn mới vào trước divider đầu tiên-->
<!--                    const firstDivider = messagesList.querySelector('.coversation-divider');-->
<!--                    if (firstDivider) {-->
<!--                        while (tempContainer.firstChild) {-->
<!--                            messagesList.insertBefore(tempContainer.firstChild, firstDivider);-->
<!--                        }-->
<!--                    } else {-->
<!--                        while (tempContainer.firstChild) {-->
<!--                            messagesList.insertBefore(tempContainer.firstChild, messagesList.firstChild);-->
<!--                        }-->
<!--                    }-->

<!--                    // Điều chỉnh vị trí scroll để giữ nguyên vị trí tương đối-->
<!--                    const newScrollHeight = scrollContainer.scrollHeight;-->
<!--                    scrollContainer.scrollTop = newScrollHeight - oldScrollHeight;-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error("Lỗi khi tải thêm tin nhắn:", error);-->
<!--                    loadingDiv.remove();-->
<!--                })-->
<!--                .finally(() => {-->
<!--                    window.isLoadingMore = false;-->
<!--                });-->
<!--        }-->

<!--        // Hiển thị danh sách tin nhắn-->
<!--        function renderMessages(container, messages) {-->
<!--            // Lấy email người dùng hiện tại từ token để xác định tin nhắn của mình-->
<!--            const currentUserEmail = currentUser?.email || '';-->

<!--            // Duyệt qua từng tin nhắn và tạo HTML-->
<!--            messages.forEach(message => {-->
<!--                // Kiểm tra xem tin nhắn có phải của người dùng hiện tại không-->
<!--                const isMe = message.sender.email === currentUserEmail;-->
<!--                const messageTime = formatTime(message.createdAt);-->

<!--                // Tạo phần tử li cho tin nhắn-->
<!--                const li = document.createElement('li');-->
<!--                li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--                li.dataset.messageId = message.id;-->

<!--                // Kiểm tra xem có phải tin nhắn mới nhất không để hiển thị trạng thái-->
<!--                const isLatestMessage = messages[messages.length - 1].id === message.id;-->
<!--                const statusHtml = isMe && isLatestMessage ?-->
<!--                    `<div class="message-status">Đã gửi</div>` : '';-->

<!--                // Tạo HTML cho tin nhắn-->
<!--                li.innerHTML = `-->
<!--                    <div class="conversation-item-side">-->
<!--                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                    </div>-->
<!--                    <div class="conversation-item-content">-->
<!--                        <div class="conversation-item-wrapper">-->
<!--                            <div class="conversation-item-box">-->
<!--                                <div class="conversation-item-text">-->
<!--                                    ${renderMessageContent(message)}-->
<!--                                    <div class="conversation-item-time">${messageTime}</div>-->
<!--                                    ${statusHtml}-->
<!--                                </div>-->
<!--                                <div class="conversation-item-dropdown">-->
<!--                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                    <ul class="conversation-item-dropdown-list">-->
<!--                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                    </ul>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                `;-->

<!--                // Thêm tin nhắn vào container-->
<!--                container.appendChild(li);-->
<!--            });-->
<!--        }-->

<!--        // Cuộn xuống cuối cùng-->
<!--        function scrollToBottom(element) {-->
<!--            element.scrollTop = element.scrollHeight;-->
<!--        }-->

<!--        // Đánh dấu cuộc hội thoại đã đọc-->
<!--        function markConversationAsRead(conversationId) {-->
<!--            // Cập nhật UI để xóa số lượng chưa đọc-->
<!--            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--            if (conversationItem) {-->
<!--                const unreadBadge = conversationItem.querySelector('.content-message-unread');-->
<!--                if (unreadBadge) {-->
<!--                    unreadBadge.remove();-->
<!--                }-->
<!--            }-->

<!--            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend-->
<!--        }-->

<!--        // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại-->
<!--        function subscribeToConversation(conversationId) {-->
<!--            if (!stompClient || !stompClient.connected) {-->
<!--                console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');-->
<!--                setTimeout(() => subscribeToConversation(conversationId), 1000);-->
<!--                return;-->
<!--            }-->

<!--            // Hủy đăng ký các kênh hiện tại-->
<!--            if (window.currentSubscription) {-->
<!--                window.currentSubscription.unsubscribe();-->
<!--            }-->

<!--            // Đăng ký kênh tin nhắn của cuộc hội thoại này-->
<!--            window.currentSubscription = stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}`,-->
<!--                function(message) {-->
<!--                    const receivedMessage = JSON.parse(message.body);-->
<!--                    handleNewMessage(conversationId, receivedMessage);-->
<!--                }-->
<!--            );-->

<!--            // Đăng ký kênh thông báo đã đọc nếu cần-->
<!--            stompClient.subscribe(-->
<!--                `/topic/conversation.${conversationId}.read`,-->
<!--                function(message) {-->
<!--                    const readMessage = JSON.parse(message.body);-->
<!--                    handleMessageRead(readMessage);-->
<!--                }-->
<!--            );-->
<!--        }-->

<!--        // Xử lý khi có tin nhắn mới-->
<!--        function handleNewMessage(conversationId, message) {-->
<!--            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            if (!container || !container.classList.contains('active')) {-->
<!--                // Cập nhật số lượng chưa đọc trong danh sách hội thoại-->
<!--                updateUnreadCount(conversationId);-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)-->
<!--            const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (existingMessage) {-->
<!--                // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần-->
<!--                const statusElement = existingMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Kiểm tra xem có tin nhắn tạm thời không-->
<!--            const tempMessage = container.querySelector('[data-message-id^="temp-"]');-->
<!--            if (tempMessage) {-->
<!--                // Cập nhật tin nhắn tạm thời với thông tin mới-->
<!--                tempMessage.dataset.messageId = message.id;-->
<!--                const statusElement = tempMessage.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã gửi';-->
<!--                    statusElement.className = 'message-status sent';-->
<!--                }-->
<!--                return;-->
<!--            }-->

<!--            // Nếu không có tin nhắn tạm thời và tin nhắn chưa tồn tại, tạo tin nhắn mới-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const currentUserEmail = currentUser?.email || '';-->
<!--            const isMe = message.sender.email === currentUserEmail;-->

<!--            const li = document.createElement('li');-->
<!--            li.className = `conversation-item ${!isMe ? 'me' : ''}`;-->
<!--            li.dataset.messageId = message.id;-->

<!--            // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại-->
<!--            const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');-->
<!--            const statusHtml = isLatestMessage ?-->
<!--                `<div class="message-status">Đã gửi</div>` : '';-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${renderMessageContent(message)}-->
<!--                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>-->
<!--                                ${statusHtml}-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->

<!--            // Cuộn xuống dưới cùng-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị-->
<!--            if (!isMe) {-->
<!--                markMessageAsRead(message.id);-->
<!--            }-->

<!--            // Sau khi xử lý tin nhắn, cập nhật danh sách cuộc hội thoại-->
<!--            updateUnreadCount(conversationId);-->
<!--        }-->

<!--        // Xử lý khi tin nhắn được đánh dấu đã đọc-->
<!--        function handleMessageRead(message) {-->
<!--            // Tìm tin nhắn trong tất cả các cuộc hội thoại-->
<!--            const messageElement = document.querySelector(`[data-message-id="${message.id}"]`);-->
<!--            if (messageElement) {-->
<!--                const statusElement = messageElement.querySelector('.message-status');-->
<!--                if (statusElement) {-->
<!--                    statusElement.textContent = 'Đã xem';-->
<!--                    statusElement.className = 'message-status read';-->
<!--                }-->
<!--            }-->
<!--        }-->

<!--        // Cập nhật số lượng tin nhắn chưa đọc-->
<!--        function updateUnreadCount(conversationId) {-->
<!--            // Lấy thông tin cập nhật cuộc hội thoại để có số lượng chưa đọc mới-->
<!--            fetch(`/api/v1/chat/conversations/${conversationId}`)-->
<!--                .then(response => response.json())-->
<!--                .then(conversation => {-->
<!--                    const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);-->
<!--                    if (!conversationItem) return;-->

<!--                    // Cập nhật thông tin cuộc hội thoại-->
<!--                    updateConversationItem(conversationItem, conversation);-->

<!--                    // Sắp xếp lại danh sách cuộc hội thoại-->
<!--                    sortConversationList();-->
<!--                })-->
<!--                .catch(error => console.error('Lỗi khi cập nhật số lượng chưa đọc:', error));-->
<!--        }-->

<!--        // Cập nhật thông tin của một cuộc hội thoại-->
<!--        function updateConversationItem(item, conversation) {-->
<!--            // Cập nhật số lượng chưa đọc-->
<!--            const unreadContainer = item.querySelector('.content-message-more');-->
<!--            const existingBadge = unreadContainer.querySelector('.content-message-unread');-->

<!--            if (existingBadge) {-->
<!--                if (conversation.unreadCount > 0) {-->
<!--                    existingBadge.textContent = conversation.unreadCount;-->
<!--                } else {-->
<!--                    existingBadge.remove();-->
<!--                }-->
<!--            } else if (conversation.unreadCount > 0) {-->
<!--                const badge = document.createElement('span');-->
<!--                badge.className = 'content-message-unread';-->
<!--                badge.textContent = conversation.unreadCount;-->
<!--                unreadContainer.prepend(badge);-->
<!--            }-->

<!--            // Cập nhật tin nhắn cuối cùng-->
<!--            if (conversation.lastMessage) {-->
<!--                const messageTextElement = item.querySelector('.content-message-text');-->
<!--                messageTextElement.textContent = conversation.lastMessage.content;-->

<!--                const timeElement = item.querySelector('.content-message-time');-->
<!--                timeElement.textContent = formatTime(conversation.lastMessage.createdAt);-->
<!--            }-->

<!--            // Cập nhật thời gian cập nhật cuộc hội thoại-->
<!--            item.dataset.updatedAt = conversation.updatedAt;-->
<!--        }-->

<!--        // Sắp xếp lại danh sách cuộc hội thoại-->
<!--        function sortConversationList() {-->
<!--            const list = document.querySelector('.content-messages-list');-->
<!--            const items = Array.from(list.querySelectorAll('li:not(.content-message-title)'));-->

<!--            // Sắp xếp các cuộc hội thoại theo thời gian cập nhật mới nhất-->
<!--            items.sort((a, b) => {-->
<!--                const timeA = new Date(a.dataset.updatedAt || 0);-->
<!--                const timeB = new Date(b.dataset.updatedAt || 0);-->
<!--                return timeB - timeA;-->
<!--            });-->

<!--            // Lấy phần tử tiêu đề "Recently"-->
<!--            const titleElement = list.querySelector('.content-message-title');-->

<!--            // Xóa tất cả các phần tử hiện tại-->
<!--            while (list.firstChild) {-->
<!--                list.removeChild(list.firstChild);-->
<!--            }-->

<!--            // Thêm lại tiêu đề-->
<!--            list.appendChild(titleElement);-->

<!--            // Thêm lại các cuộc hội thoại đã sắp xếp-->
<!--            items.forEach(item => {-->
<!--                list.appendChild(item);-->
<!--            });-->
<!--        }-->

<!--        // Đánh dấu tin nhắn đã đọc-->
<!--        function markMessageAsRead(messageId) {-->
<!--            fetch(`/api/v1/chat/messages/${messageId}/read`, {-->
<!--                method: 'PUT',-->
<!--                headers: {-->
<!--                    'Content-Type': 'application/json'-->
<!--                }-->
<!--            })-->
<!--                .catch(error => console.error('Lỗi khi đánh dấu tin nhắn đã đọc:', error));-->
<!--        }-->

<!--        // Thiết lập sự kiện gửi tin nhắn-->
<!--        function setupSendMessageListener(submitButton) {-->
<!--            submitButton.addEventListener('click', function() {-->
<!--                const conversationId = this.getAttribute('data-conversation-id');-->
<!--                const container = document.getElementById(`conversation-${conversationId}`);-->
<!--                const input = container.querySelector('.conversation-form-input');-->
<!--                const message = input.value.trim();-->

<!--                if (!message) return;-->

<!--                // Xóa nội dung input-->
<!--                input.value = '';-->

<!--                // Gửi tin nhắn qua API-->
<!--                sendMessage(conversationId, message);-->
<!--            });-->
<!--        }-->

<!--        // Gửi tin nhắn mới-->
<!--        function sendMessage(conversationId, content) {-->
<!--            const messageData = {-->
<!--                conversationId: conversationId,-->
<!--                content: content,-->
<!--                messageType: 'TEXT',-->
<!--                fileUrl: null-->
<!--            };-->

<!--            // Tạo tin nhắn tạm thời với trạng thái "Đang gửi..."-->
<!--            const container = document.getElementById(`conversation-${conversationId}`);-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->

<!--            // Xóa trạng thái của tin nhắn trước đó-->
<!--            const previousStatus = messagesList.querySelector('.message-status');-->
<!--            if (previousStatus) {-->
<!--                previousStatus.remove();-->
<!--            }-->

<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                <p>${content}</p>-->
<!--                                <div class="conversation-item-time">${formatTime(new Date())}</div>-->
<!--                                <div class="message-status sending">Đang gửi...</div>-->
<!--                            </div>-->
<!--                            <div class="conversation-item-dropdown">-->
<!--                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>-->
<!--                                <ul class="conversation-item-dropdown-list">-->
<!--                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>-->
<!--                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>-->
<!--                                </ul>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Gửi qua WebSocket-->
<!--            if (stompClient && stompClient.connected) {-->
<!--                stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--            } else {-->
<!--                console.error('WebSocket chưa kết nối');-->
<!--                // Cập nhật trạng thái tin nhắn thành lỗi-->
<!--                const statusElement = li.querySelector('.message-status');-->
<!--                statusElement.textContent = 'Gửi thất bại';-->
<!--                statusElement.className = 'message-status error';-->

<!--                // Thêm nút thử lại-->
<!--                const retryButton = document.createElement('button');-->
<!--                retryButton.className = 'retry-button';-->
<!--                retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                retryButton.onclick = () => {-->
<!--                    li.remove();-->
<!--                    sendMessage(conversationId, content);-->
<!--                };-->
<!--                statusElement.appendChild(retryButton);-->
<!--            }-->
<!--        }-->

<!--        // Định dạng thời gian-->
<!--        function formatTime(isoTime) {-->
<!--            if (!isoTime) return "N/A";-->

<!--            const now = new Date();-->
<!--            const time = new Date(isoTime);-->
<!--            const diffMs = now - time;-->
<!--            const diffSec = Math.floor(diffMs / 1000);-->
<!--            const diffMin = Math.floor(diffSec / 60);-->
<!--            const diffHour = Math.floor(diffMin / 60);-->
<!--            const diffDay = Math.floor(diffHour / 24);-->

<!--            if (diffSec < 60) return `${diffSec} giây trước`;-->
<!--            if (diffMin < 60) return `${diffMin} phút trước`;-->
<!--            if (diffHour < 24) return `${diffHour} giờ trước`;-->

<!--            // Nếu là hôm qua-->
<!--            const yesterday = new Date();-->
<!--            yesterday.setDate(yesterday.getDate() - 1);-->
<!--            if (-->
<!--                time.getDate() === yesterday.getDate() &&-->
<!--                time.getMonth() === yesterday.getMonth() &&-->
<!--                time.getFullYear() === yesterday.getFullYear()-->
<!--            ) {-->
<!--                return "Hôm qua";-->
<!--            }-->

<!--            if (diffDay < 7) return `${diffDay} ngày trước`;-->

<!--            if (now.getFullYear() === time.getFullYear()) {-->
<!--                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;-->
<!--            }-->

<!--            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;-->
<!--        }-->

<!--        // Add file size formatting function-->
<!--        function formatFileSize(bytes) {-->
<!--            if (bytes === 0) return '0 Bytes';-->
<!--            const k = 1024;-->
<!--            const sizes = ['Bytes', 'KB', 'MB', 'GB'];-->
<!--            const i = Math.floor(Math.log(bytes) / Math.log(k));-->
<!--            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];-->
<!--        }-->

<!--        // Setup file upload handlers-->
<!--        function setupFileUploadHandlers(container) {-->
<!--            const fileInput = container.querySelector('.file-input');-->
<!--            const imageInput = container.querySelector('.image-input');-->

<!--            fileInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'FILE');-->
<!--                }-->
<!--            });-->

<!--            imageInput.addEventListener('change', function(e) {-->
<!--                const file = e.target.files[0];-->
<!--                if (file) {-->
<!--                    handleFileUpload(container, file, 'IMAGE');-->
<!--                }-->
<!--            });-->
<!--        }-->

<!--        // Handle file upload-->
<!--        function handleFileUpload(container, file, messageType) {-->
<!--            const conversationId = container.querySelector('.conversation-form-submit').getAttribute('data-conversation-id');-->
<!--            const formData = new FormData();-->
<!--            formData.append('file', file);-->
<!--            formData.append('conversationId', conversationId);-->
<!--            formData.append('messageType', messageType);-->

<!--            // Show loading state-->
<!--            const tempMessageId = 'temp-' + Date.now();-->
<!--            const messagesList = container.querySelector('.conversation-wrapper');-->
<!--            const li = document.createElement('li');-->
<!--            li.className = 'conversation-item';-->
<!--            li.dataset.messageId = tempMessageId;-->

<!--            let contentHtml = '';-->
<!--            if (messageType === 'IMAGE') {-->
<!--                contentHtml = `-->
<!--                    <img src="${URL.createObjectURL(file)}" class="message-image" alt="Uploading...">-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            } else {-->
<!--                contentHtml = `-->
<!--                    <div class="message-file">-->
<!--                        <i class="ri-file-line"></i>-->
<!--                        <div class="message-file-info">-->
<!--                            <div class="message-file-name">${file.name}</div>-->
<!--                            <div class="message-file-size">${formatFileSize(file.size)}</div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="message-status sending">Đang gửi...</div>-->
<!--                `;-->
<!--            }-->

<!--            li.innerHTML = `-->
<!--                <div class="conversation-item-side">-->
<!--                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">-->
<!--                </div>-->
<!--                <div class="conversation-item-content">-->
<!--                    <div class="conversation-item-wrapper">-->
<!--                        <div class="conversation-item-box">-->
<!--                            <div class="conversation-item-text">-->
<!--                                ${contentHtml}-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            `;-->

<!--            messagesList.appendChild(li);-->
<!--            scrollToBottom(container.querySelector('.conversation-main'));-->

<!--            // Upload file to server-->
<!--            fetch('/api/v1/chat/upload', {-->
<!--                method: 'POST',-->
<!--                body: formData-->
<!--            })-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->
<!--                    // Send message with file URL through WebSocket-->
<!--                    const messageData = {-->
<!--                        conversationId: conversationId,-->
<!--                        content: file.name,-->
<!--                        messageType: messageType,-->
<!--                        fileUrl: data.fileUrl-->
<!--                    };-->

<!--                    if (stompClient && stompClient.connected) {-->
<!--                        stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));-->
<!--                    } else {-->
<!--                        throw new Error('WebSocket chưa kết nối');-->
<!--                    }-->
<!--                })-->
<!--                .catch(error => {-->
<!--                    console.error('Error uploading file:', error);-->
<!--                    const statusElement = li.querySelector('.message-status');-->
<!--                    statusElement.textContent = 'Gửi thất bại';-->
<!--                    statusElement.className = 'message-status error';-->

<!--                    const retryButton = document.createElement('button');-->
<!--                    retryButton.className = 'retry-button';-->
<!--                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';-->
<!--                    retryButton.onclick = () => {-->
<!--                        li.remove();-->
<!--                        handleFileUpload(container, file, messageType);-->
<!--                    };-->
<!--                    statusElement.appendChild(retryButton);-->
<!--                });-->
<!--        }-->

<!--        // Hàm hiển thị nội dung tin nhắn dựa trên loại tin nhắn-->
<!--        function renderMessageContent(message) {-->
<!--            // Kiểm tra loại tin nhắn và trả về HTML tương ứng-->
<!--            switch (message.messageType) {-->
<!--                case 'IMAGE':-->
<!--                    // Nếu là ảnh, hiển thị thẻ img với sự kiện click để xem ảnh to-->
<!--                    return `-->
<!--                        <img src="${message.fileUrl}" class="message-image" alt="Image" onclick="showImagePreview('${message.fileUrl}')">-->
<!--                    `;-->
<!--                case 'FILE':-->
<!--                    // Nếu là file, hiển thị link download với icon và tên file-->
<!--                    return `-->
<!--                        <a href="${message.fileUrl}" class="message-file" download>-->
<!--                            <i class="ri-file-line"></i>-->
<!--                            <div class="message-file-info">-->
<!--                                <div class="message-file-name">${message.content}</div>-->
<!--                            </div>-->
<!--                        </a>-->
<!--                    `;-->
<!--                default:-->
<!--                    // Nếu là text, hiển thị nội dung bình thường-->
<!--                    return `<p>${message.content}</p>`;-->
<!--            }-->
<!--        }-->

<!--        // Add image preview functionality-->
<!--        window.showImagePreview = function(imageUrl) {-->
<!--            const modal = document.querySelector('.image-preview-modal');-->
<!--            const img = modal.querySelector('img');-->
<!--            img.src = imageUrl;-->
<!--            modal.classList.add('active');-->

<!--            // Setup download button-->
<!--            const downloadBtn = modal.querySelector('.image-preview-download');-->
<!--            downloadBtn.onclick = function() {-->
<!--                const link = document.createElement('a');-->
<!--                link.href = imageUrl;-->
<!--                link.download = imageUrl.split('/').pop();-->
<!--                document.body.appendChild(link);-->
<!--                link.click();-->
<!--                document.body.removeChild(link);-->
<!--            };-->
<!--        };-->

<!--        // Close image preview-->
<!--        document.querySelector('.image-preview-close').addEventListener('click', function() {-->
<!--            document.querySelector('.image-preview-modal').classList.remove('active');-->
<!--        });-->

<!--        // Close image preview on background click-->
<!--        document.querySelector('.image-preview-modal').addEventListener('click', function(e) {-->
<!--            if (e.target === this) {-->
<!--                this.classList.remove('active');-->
<!--            }-->
<!--        });-->
<!--    });-->
<!--</script>-->

<!--&lt;!&ndash; Thêm thư viện SockJS và STOMP cho WebSocket &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>-->

<!--<script src="/js/script.js"></script>-->

<!--&lt;!&ndash; Add Image Preview Modal &ndash;&gt;-->
<!--<div class="image-preview-modal">-->
<!--    <div class="image-preview-content">-->
<!--        <span class="image-preview-close"><i class="ri-close-line"></i></span>-->
<!--        <img src="" alt="Preview">-->
<!--        <span class="image-preview-download"><i class="ri-download-line"></i></span>-->
<!--    </div>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->
<!--Mất tính năng cập nhật danh sách cuộc hội thoại và hiển thị lỗi khi không gửi đc tin nhắn-->




























<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/tailwindcss-colors.css">
    <link rel="stylesheet" href="/css/style.css">
    <title>Chat</title>
</head>
<style>
    /* Skeleton Loading Styles */
    @keyframes pulse {
        0% {
            opacity: 0.6;
        }
        50% {
            opacity: 1;
        }
        100% {
            opacity: 0.6;
        }
    }

    /* Loading Spinner Styles */
    .loading-messages {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px;
        width: 100%;
    }

    .loading-spinner {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 30px;
        height: 30px;
    }

    .loading-spinner i {
        font-size: 24px;
        color: #666;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    /* Message Status Styles */
    .message-status {
        font-size: 12px;
        color: #666;
        margin-top: 4px;
        display: flex;
        align-items: center;
        gap: 4px;
    }

    .message-status.sending {
        color: #666;
    }

    .message-status.sent {
        color: #4CAF50;
    }

    .message-status.read {
        color: #2196F3;
    }

    .message-status.error {
        color: #f44336;
    }

    .message-status .retry-button {
        background: none;
        border: none;
        padding: 0;
        cursor: pointer;
        color: inherit;
        display: inline-flex;
        align-items: center;
        font-size: 14px;
    }

    .message-status .retry-button:hover {
        opacity: 0.8;
    }

    .skeleton-item a {
        display: flex;
        align-items: center;
        padding: 15px;
        text-decoration: none;
        position: relative;
    }

    .skeleton-circle {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #eaeaea;
        margin-right: 15px;
        animation: pulse 1.5s infinite ease-in-out;
    }

    .skeleton-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .skeleton-line {
        height: 12px;
        background-color: #eaeaea;
        border-radius: 4px;
        animation: pulse 1.5s infinite ease-in-out;
    }

    .skeleton-line-short {
        width: 40%;
    }

    .skeleton-line-long {
        width: 85%;
    }

    .skeleton-line-tiny {
        width: 40px;
        height: 10px;
    }

    .skeleton-more {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 5px;
    }

    /* Error and Empty States */
    .error-message, .empty-message {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 30px 15px;
        text-align: center;
        color: #666;
    }

    .error-message i, .empty-message i {
        font-size: 30px;
        margin-bottom: 10px;
        color: #999;
    }

    .retry-button {
        margin-top: 15px;
        padding: 8px 20px;
        background-color: #f2f2f2;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        transition: background-color 0.3s;
    }

    .retry-button:hover {
        background-color: #e0e0e0;
    }

    /* Message Type Styles */
    .message-image {
        max-width: 300px;
        max-height: 300px;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s;
    }

    .message-image:hover {
        transform: scale(1.02);
    }

    .message-file {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px;
        background: #f5f5f5;
        border-radius: 8px;
        text-decoration: none;
        color: inherit;
    }

    .message-file i {
        font-size: 24px;
        color: #666;
    }

    .message-file-info {
        flex: 1;
        min-width: 0;
    }

    .message-file-name {
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .message-file-size {
        font-size: 12px;
        color: #666;
    }

    /* Image Preview Modal */
    .image-preview-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1000;
        justify-content: center;
        align-items: center;
    }

    .image-preview-modal.active {
        display: flex;
    }

    .image-preview-content {
        max-width: 90%;
        max-height: 90%;
        position: relative;
    }

    .image-preview-content img {
        max-width: 100%;
        max-height: 90vh;
        object-fit: contain;
    }

    .image-preview-close {
        position: absolute;
        top: -40px;
        right: 0;
        color: white;
        font-size: 30px;
        cursor: pointer;
    }

    .image-preview-download {
        position: absolute;
        bottom: -40px;
        right: 0;
        color: white;
        font-size: 24px;
        cursor: pointer;
    }

    /* File Upload Button */
    .conversation-form-upload {
        position: relative;
        overflow: hidden;
        display: inline-block;
    }

    .conversation-form-upload input[type="file"] {
        position: absolute;
        left: 0;
        top: 0;
        opacity: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
    }

    .error-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #f44336;
        color: white;
        padding: 12px 24px;
        border-radius: 4px;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        z-index: 1000;
        animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    .error-notification i {
        font-size: 20px;
    }

    .message-error {
        opacity: 0.8;
        position: relative;
    }

    .message-error::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border: 2px solid #f44336;
        border-radius: 8px;
        pointer-events: none;
    }

    .message-error .conversation-item-text {
        background-color: rgba(244, 67, 54, 0.1);
    }

    .message-status.error {
        color: #f44336;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .retry-button {
        background: none;
        border: none;
        color: inherit;
        cursor: pointer;
        padding: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background-color 0.2s;
    }

    .retry-button:hover {
        background-color: rgba(244, 67, 54, 0.1);
    }
</style>
<body>

<!-- start: Chat -->
<section class="chat-section">
    <div class="chat-container">
        <!-- start: Sidebar -->
        <aside class="chat-sidebar">
            <a href="#" class="chat-sidebar-logo">
                <i class="ri-chat-1-fill"></i>
            </a>
            <ul class="chat-sidebar-menu">
                <li class="active"><a href="#" data-title="Chats"><i class="ri-chat-3-line"></i></a></li>
                <li><a href="#" data-title="Contacts"><i class="ri-contacts-line"></i></a></li>
                <li><a href="#" data-title="Documents"><i class="ri-folder-line"></i></a></li>
                <li><a href="#" data-title="Settings"><i class="ri-settings-line"></i></a></li>
                <li class="chat-sidebar-profile">
                    <button type="button" class="chat-sidebar-profile-toggle">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                    </button>
                    <ul class="chat-sidebar-profile-dropdown">
                        <li><a href="#"><i class="ri-user-line"></i> Profile</a></li>
                        <li><a href="#" id="logout-button"><i class="ri-logout-box-line"></i> Logout</a></li>
                    </ul>
                </li>
            </ul>
        </aside>
        <!-- end: Sidebar -->
        <!-- start: Content -->
        <div class="chat-content">
            <!-- start: Content side -->
            <div class="content-sidebar">
                <div class="content-sidebar-title">Chats</div>
                <form action="" class="content-sidebar-form">
                    <input type="search" class="content-sidebar-input" placeholder="Search...">
                    <button type="submit" class="content-sidebar-submit"><i class="ri-search-line"></i></button>
                </form>
                <div class="content-messages">
                    <ul class="content-messages-list">
                        <li class="content-message-title"><span>Recently</span></li>
                        <li>
                            <a href="#" data-conversation="#conversation-1">
                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                                <span class="content-message-info">
                                        <span class="content-message-name">Someone</span>
                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>
                                    </span>
                                <span class="content-message-more">
                                        <span class="content-message-unread">5</span>
                                        <span class="content-message-time">12:30</span>
                                    </span>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-conversation="#conversation-2">
                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                                <span class="content-message-info">
                                        <span class="content-message-name">Someone</span>
                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>
                                    </span>
                                <span class="content-message-more">
                                        <span class="content-message-time">12:30</span>
                                    </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                                <span class="content-message-info">
                                        <span class="content-message-name">Someone</span>
                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>
                                    </span>
                                <span class="content-message-more">
                                        <span class="content-message-unread">5</span>
                                        <span class="content-message-time">12:30</span>
                                    </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                                <span class="content-message-info">
                                        <span class="content-message-name">Someone</span>
                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>
                                    </span>
                                <span class="content-message-more">
                                        <span class="content-message-time">12:30</span>
                                    </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                                <span class="content-message-info">
                                        <span class="content-message-name">Someone</span>
                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>
                                    </span>
                                <span class="content-message-more">
                                        <span class="content-message-time">12:30</span>
                                    </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <img class="content-message-image" src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8cGVvcGxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60" alt="">
                                <span class="content-message-info">
                                        <span class="content-message-name">Someone</span>
                                        <span class="content-message-text">Lorem ipsum dolor sit amet consectetur.</span>
                                    </span>
                                <span class="content-message-more">
                                        <span class="content-message-time">12:30</span>
                                    </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- end: Content side -->
            <!-- start: Conversation -->
            <div class="conversation conversation-default active">
                <i class="ri-chat-3-line"></i>
                <p>Select chat and view conversation!</p>
            </div>
        </div>
        <!-- end: Content -->
    </div>
</section>
<!-- end: Chat -->

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get current user info from JWT token
        let currentUser = null;
        function getCurrentUserFromToken() {
            try {
                const token = getCookie('auth_token');
                if (token) {
                    const tokenParts = token.split('.');
                    if (tokenParts.length === 3) {
                        const payload = JSON.parse(atob(tokenParts[1]));
                        return payload;
                    }
                }
            } catch (error) {
                console.error('Error parsing JWT token:', error);
            }
            return null;
        }

        // Get cookie value by name
        function getCookie(name) {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.startsWith(name + '=')) {
                    return cookie.substring(name.length + 1);
                }
            }
            return null;
        }

        // Initialize current user
        currentUser = getCurrentUserFromToken();
        console.log('Current user from token:', currentUser);

        // Hiển thị skeleton loading trước
        showSkeletonLoading();

        // Lấy danh sách hội thoại từ API
        fetchConversations();

        // Thiết lập kết nối WebSocket
        let stompClient = null;
        connectWebSocket();

        // Hàm kết nối WebSocket
        function connectWebSocket() {
            const socket = new SockJS('/ws');
            stompClient = Stomp.over(socket);

            // Thêm token vào header khi kết nối
            const token = getCookie('auth_token');
            const headers = {
                'Authorization': `Bearer ${token}`
            };

            stompClient.connect(headers, function (frame) {
                console.log('Đã kết nối tới WebSocket');
            }, function(error) {
                console.error('Lỗi kết nối WebSocket:', error);
                // Thử kết nối lại sau 5 giây
                setTimeout(connectWebSocket, 5000);
            });
        }

        // Đăng kí lắng nghe tin nhắn mới
        subscribeToConversation();

        // Thêm cuộc hội thoại mới vào danh sách
        function addNewConversation(conversation) {
            const list = document.querySelector(".content-messages-list");
            const titleElement = list.querySelector('.content-message-title');

            const li = document.createElement("li");
            li.dataset.conversationId = conversation.id;
            li.innerHTML = `
                <a href="#" class="conversation-link" data-conversation-id="${conversation.id}">
                    <img class="content-message-image" src="${conversation.customer.profileImage || '/img/default_avatar.png'}" alt="">
                    <span class="content-message-info">
                        <span class="content-message-name">${conversation.customer.fullName || 'Không có tên'}</span>
                        <span class="content-message-text">${conversation.lastMessage ? conversation.lastMessage.content : 'Chưa có tin nhắn'}</span>
                    </span>
                    <span class="content-message-more">
                        ${conversation.unreadCount > 0 ? `<span class="content-message-unread">${conversation.unreadCount}</span>` : ""}
                        <span class="content-message-time">${formatTime(conversation.updatedAt)}</span>
                    </span>
                </a>
            `;

            // Thêm vào sau tiêu đề "Recently"
            list.insertBefore(li, titleElement.nextSibling);

            // Thêm sự kiện click cho cuộc hội thoại mới
            setupConversationListeners();
        }

        // Xóa cuộc hội thoại khỏi danh sách
        function removeConversation(conversationId) {
            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);
            if (conversationItem) {
                conversationItem.remove();
            }

            // Nếu đang hiển thị cuộc hội thoại này, chuyển về màn hình mặc định
            const container = document.getElementById(`conversation-${conversationId}`);
            if (container && container.classList.contains('active')) {
                document.querySelectorAll('.conversation').forEach(c => {
                    c.classList.remove('active');
                });
                document.querySelector('.conversation-default').classList.add('active');
            }
        }

        // Hiển thị skeleton loading khi đang tải dữ liệu
        function showSkeletonLoading() {
            const list = document.querySelector(".content-messages-list");
            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';

            // Tạo 5 mục skeleton
            for (let i = 0; i < 5; i++) {
                const li = document.createElement("li");
                li.classList.add("skeleton-item");
                li.innerHTML = `
                <a href="#">
                    <div class="skeleton-circle"></div>
                    <span class="skeleton-info">
                        <span class="skeleton-line skeleton-line-short"></span>
                        <span class="skeleton-line skeleton-line-long"></span>
                    </span>
                    <span class="skeleton-more">
                        <span class="skeleton-line skeleton-line-tiny"></span>
                    </span>
                </a>
            `;
                list.appendChild(li);
            }
        }

        // Lấy danh sách cuộc hội thoại từ API
        function fetchConversations() {
            fetch("/api/v1/chat/conversations/all")
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);
                    }
                    return response.json();
                })
                .then(conversations => {
                    // Khi dữ liệu được tải, thay thế skeleton bằng nội dung thật
                    renderConversations(conversations);
                    setupConversationListeners();
                })
                .catch(error => {
                    console.error("Lỗi khi tải dữ liệu:", error);
                    // Trong trường hợp lỗi, hiển thị thông báo lỗi thay vì skeleton
                    const list = document.querySelector(".content-messages-list");
                    list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';

                    const errorLi = document.createElement("li");
                    errorLi.innerHTML = `
                    <div class="error-message">
                        <i class="ri-error-warning-line"></i>
                        <p>Không thể tải danh sách hội thoại. Vui lòng thử lại.</p>
                        <button class="retry-button" onclick="location.reload()">Thử lại</button>
                    </div>
                `;
                    list.appendChild(errorLi);
                });
        }

        // Hiển thị danh sách cuộc hội thoại
        function renderConversations(conversations) {
            const list = document.querySelector(".content-messages-list");

            // Xóa skeleton loading
            list.innerHTML = '<li class="content-message-title"><span>Recently</span></li>';

            if (conversations.length === 0) {
                const emptyLi = document.createElement("li");
                emptyLi.innerHTML = `
                <div class="empty-message">
                    <i class="ri-chat-3-line"></i>
                    <p>Chưa có cuộc hội thoại nào</p>
                </div>
            `;
                list.appendChild(emptyLi);
                return;
            }

            conversations.forEach((conv) => {
                const updatedAtFormatted = formatTime(conv.updatedAt);
                const lastMessageText = conv.lastMessage ? conv.lastMessage.content : 'Chưa có tin nhắn';

                const li = document.createElement("li");
                li.dataset.conversationId = conv.id;
                li.innerHTML = `
                <a href="#" class="conversation-link" data-conversation-id="${conv.id}">
                    <img class="content-message-image" src="${conv.customer.profileImage || '/img/default_avatar.png'}" alt="">
                    <span class="content-message-info">
                        <span class="content-message-name">${conv.customer.fullName || 'Không có tên'}</span>
                        <span class="content-message-text">${lastMessageText}</span>
                    </span>
                    <span class="content-message-more">
                        ${conv.unreadCount > 0 ? `<span class="content-message-unread">${conv.unreadCount}</span>` : ""}
                        <span class="content-message-time">${updatedAtFormatted}</span>
                    </span>
                </a>
            `;
                list.appendChild(li);
            });
        }

        // Thiết lập sự kiện lắng nghe cho các cuộc hội thoại
        function setupConversationListeners() {
            // Thêm sự kiện click cho các mục hội thoại
            document.querySelectorAll('.conversation-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();

                    // Lấy ID cuộc hội thoại từ thuộc tính data
                    const conversationId = this.getAttribute('data-conversation-id');

                    // Hiển thị container cuộc hội thoại
                    showConversation(conversationId);

                    // Tải tin nhắn cho cuộc hội thoại này
                    loadMessages(conversationId);

                    // Đăng ký nhận thông báo WebSocket cho cuộc hội thoại này
                    // subscribeToConversation(conversationId);
                });
            });

            // Thêm sự kiện cho nút quay lại
            document.querySelectorAll('.conversation-back').forEach(button => {
                button.addEventListener('click', function() {
                    // Ẩn tất cả các container hội thoại
                    document.querySelectorAll('.conversation').forEach(container => {
                        container.classList.remove('active');
                    });

                    // Hiển thị container mặc định
                    document.querySelector('.conversation-default').classList.add('active');
                });
            });
        }

        // Hiển thị cuộc hội thoại được chọn
        function showConversation(conversationId) {
            // Ẩn tất cả các container hội thoại
            document.querySelectorAll('.conversation').forEach(container => {
                container.classList.remove('active');
            });

            // Kiểm tra xem đã có container cho cuộc hội thoại này chưa
            let container = document.getElementById(`conversation-${conversationId}`);

            if (!container) {
                // Tạo container mới nếu chưa tồn tại
                container = createConversationContainer(conversationId);
            }

            // Hiển thị container hội thoại
            container.classList.add('active');
        }

        // Tạo container hội thoại mới
        function createConversationContainer(conversationId) {
            // Lấy thông tin chi tiết cuộc hội thoại để hiển thị thông tin người dùng
            fetch(`/api/v1/chat/conversations/${conversationId}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);
                    }
                    return response.json();
                })
                .then(conversation => {
                    updateConversationHeader(conversationId, conversation);
                })
                .catch(error => {
                    console.error("Lỗi khi tải thông tin hội thoại:", error);
                });

            // Tạo container cơ bản (sẽ được cập nhật với thông tin người dùng sau)
            const container = document.createElement('div');
            container.className = 'conversation';
            container.id = `conversation-${conversationId}`;

            container.innerHTML = `
                <div class="conversation-top">
                    <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>
                    <div class="conversation-user">
                        <img class="conversation-user-image" src="/img/default_avatar.png" alt="">
                        <div>
                            <div class="conversation-user-name">Đang tải...</div>
                            <div class="conversation-user-status">...</div>
                        </div>
                    </div>
                    <div class="conversation-buttons">
                        <button type="button"><i class="ri-phone-fill"></i></button>
                        <button type="button"><i class="ri-vidicon-line"></i></button>
                        <button type="button"><i class="ri-information-line"></i></button>
                    </div>
                </div>
                <div class="conversation-main">
                    <ul class="conversation-wrapper">
                        <div class="coversation-divider"><span>Hôm nay</span></div>
                        <!-- Tin nhắn sẽ được tải ở đây -->
                    </ul>
                </div>
                <div class="conversation-form">
                    <button type="button" class="conversation-form-button"><i class="ri-emotion-line"></i></button>
                    <div class="conversation-form-group">
                        <textarea class="conversation-form-input" rows="1" placeholder="Nhập tin nhắn..."></textarea>
                        <div class="conversation-form-upload">
                            <button type="button" class="conversation-form-button"><i class="ri-attachment-2"></i></button>
                            <input type="file" class="file-input" accept="*/*">
                        </div>
                        <div class="conversation-form-upload">
                            <button type="button" class="conversation-form-button"><i class="ri-image-line"></i></button>
                            <input type="file" class="image-input" accept="image/*">
                        </div>
                        <button type="button" class="conversation-form-record"><i class="ri-mic-line"></i></button>
                    </div>
                    <button type="button" class="conversation-form-button conversation-form-submit" data-conversation-id="${conversationId}">
                        <i class="ri-send-plane-2-line"></i>
                    </button>
                </div>
            `;

            // Thêm container vào khu vực nội dung
            document.querySelector('.chat-content').appendChild(container);

            // Thiết lập sự kiện cho container mới
            setupSendMessageListener(container.querySelector('.conversation-form-submit'));
            container.querySelector('.conversation-back').addEventListener('click', function() {
                // Ẩn tất cả container hội thoại
                document.querySelectorAll('.conversation').forEach(c => {
                    c.classList.remove('active');
                });

                // Hiển thị container mặc định
                document.querySelector('.conversation-default').classList.add('active');
            });

            // Setup file upload handlers
            setupFileUploadHandlers(container);

            return container;
        }

        // Cập nhật header của cuộc hội thoại với thông tin người dùng
        function updateConversationHeader(conversationId, conversation) {
            const container = document.getElementById(`conversation-${conversationId}`);
            if (!container){
                console.log("Không tìm thy container conversation")
                return;
            }

            const userImage = conversation.customer.profileImage || '/img/default_avatar.png';
            const userName = conversation.customer.fullName || 'Không có tên';
            const userStatus = 'online'; // Có thể động nếu bạn có trạng thái người dùng

            const header = container.querySelector('.conversation-top');
            header.innerHTML = `
                <button type="button" class="conversation-back"><i class="ri-arrow-left-line"></i></button>
                <div class="conversation-user">
                    <img class="conversation-user-image" src="${userImage}" alt="">
                    <div>
                        <div class="conversation-user-name">${userName}</div>
                        <div class="conversation-user-status ${userStatus}">${userStatus}</div>
                    </div>
                </div>
                <div class="conversation-buttons">
                    <button type="button"><i class="ri-phone-fill"></i></button>
                    <button type="button"><i class="ri-vidicon-line"></i></button>
                    <button type="button"><i class="ri-information-line"></i></button>
                </div>
            `;

            // Thêm lại sự kiện cho nút quay lại
            container.querySelector('.conversation-back').addEventListener('click', function() {
                document.querySelectorAll('.conversation').forEach(c => {
                    c.classList.remove('active');
                });
                document.querySelector('.conversation-default').classList.add('active');
            });
        }

        // Tải tin nhắn cho cuộc hội thoại
        function loadMessages(conversationId) {
            // Reset pagination state
            window.currentPage = 0;
            window.isLoadingMore = false;
            window.hasMoreMessages = true;

            // Hiển thị trạng thái đang tải
            const container = document.getElementById(`conversation-${conversationId}`);
            const messagesList = container.querySelector('.conversation-wrapper');
            messagesList.innerHTML = `
                <li class="conversation-item loading">
                    <div class="skeleton-circle"></div>
                    <div class="skeleton-line skeleton-line-long"></div>
                </li>
            `;

            // Gọi API để lấy tin nhắn
            fetchMessages(conversationId, 0, 20).then(messages => {
                // Xóa trạng thái đang tải
                messagesList.innerHTML = `<div class="coversation-divider"><span>Hôm nay</span></div>`;

                // Kiểm tra nếu không có tin nhắn
                if (messages.length === 0) {
                    messagesList.innerHTML += `
                        <li class="conversation-item-empty">
                            <p>Chưa có tin nhắn. Hãy bắt đầu cuộc hội thoại!</p>
                        </li>
                    `;
                } else {
                    // Hiển thị tin nhắn
                    renderMessages(messagesList, messages);
                }

                // Cuộn xuống tin nhắn mới nhất
                scrollToBottom(container.querySelector('.conversation-main'));

                // Đánh dấu là đã đọc
                markConversationAsRead(conversationId);

                // Thêm sự kiện scroll để tải thêm tin nhắn
                setupInfiniteScroll(container, conversationId);
            }).catch(error => {
                console.error("Lỗi khi tải tin nhắn:", error);
                messagesList.innerHTML = `
                    <div class="coversation-divider"><span>Hôm nay</span></div>
                    <li class="conversation-item-error">
                        <i class="ri-error-warning-line"></i>
                        <p>Không thể tải tin nhắn. Vui lòng thử lại.</p>
                        <button class="retry-button" onclick="loadMessages(${conversationId})">Thử lại</button>
                    </li>
                `;
            });
        }

        // Hàm fetch tin nhắn từ API
        function fetchMessages(conversationId, page, size) {
            return fetch(`/api/v1/chat/messages?conversationId=${conversationId}&page=${page}&size=${size}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Lỗi HTTP! Trạng thái: ${response.status}`);
                    }
                    return response.json();
                });
        }

        // Thiết lập infinite scroll
        function setupInfiniteScroll(container, conversationId) {
            const conversationMain = container.querySelector('.conversation-main');
            let scrollTimeout;

            conversationMain.addEventListener('scroll', function() {
                // Clear previous timeout
                clearTimeout(scrollTimeout);

                // Set new timeout to debounce scroll events
                scrollTimeout = setTimeout(() => {
                    // Kiểm tra nếu đã ở đầu cuộn và đang không tải thêm tin nhắn
                    if (conversationMain.scrollTop === 0 && !window.isLoadingMore && window.hasMoreMessages) {
                        loadMoreMessages(conversationId);
                    }
                }, 150);
            });
        }

        // Tải thêm tin nhắn cũ
        function loadMoreMessages(conversationId) {
            if (window.isLoadingMore || !window.hasMoreMessages) return;

            window.isLoadingMore = true;
            const container = document.getElementById(`conversation-${conversationId}`);
            const messagesList = container.querySelector('.conversation-wrapper');
            const currentScrollHeight = container.querySelector('.conversation-main').scrollHeight;

            // Thêm loading indicator ở đầu danh sách
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'loading-messages';
            loadingDiv.innerHTML = `
                <div class="loading-spinner">
                    <i class="ri-loader-4-line"></i>
                </div>
            `;
            messagesList.insertBefore(loadingDiv, messagesList.firstChild);

            // Tăng số trang và tải thêm tin nhắn
            window.currentPage++;
            fetchMessages(conversationId, window.currentPage, 20)
                .then(messages => {
                    // Xóa loading indicator
                    loadingDiv.remove();

                    if (messages.length === 0) {
                        window.hasMoreMessages = false;
                        return;
                    }

                    // Lưu vị trí scroll hiện tại
                    const scrollContainer = container.querySelector('.conversation-main');
                    const oldScrollHeight = scrollContainer.scrollHeight;

                    // Thêm tin nhắn mới vào đầu danh sách
                    const tempContainer = document.createElement('div');
                    renderMessages(tempContainer, messages);

                    // Chèn các tin nhắn mới vào trước divider đầu tiên
                    const firstDivider = messagesList.querySelector('.coversation-divider');
                    if (firstDivider) {
                        while (tempContainer.firstChild) {
                            messagesList.insertBefore(tempContainer.firstChild, firstDivider);
                        }
                    } else {
                        while (tempContainer.firstChild) {
                            messagesList.insertBefore(tempContainer.firstChild, messagesList.firstChild);
                        }
                    }

                    // Điều chỉnh vị trí scroll để giữ nguyên vị trí tương đối
                    const newScrollHeight = scrollContainer.scrollHeight;
                    scrollContainer.scrollTop = newScrollHeight - oldScrollHeight;
                })
                .catch(error => {
                    console.error("Lỗi khi tải thêm tin nhắn:", error);
                    loadingDiv.remove();
                })
                .finally(() => {
                    window.isLoadingMore = false;
                });
        }

        // Hiển thị danh sách tin nhắn
        function renderMessages(container, messages) {
            // Lấy email người dùng hiện tại từ token để xác định tin nhắn của mình
            const currentUserEmail = currentUser?.email || '';

            // Duyệt qua từng tin nhắn và tạo HTML
            messages.forEach(message => {
                // Kiểm tra xem tin nhắn có phải của người dùng hiện tại không
                const isMe = message.sender.email === currentUserEmail;
                const messageTime = formatTime(message.createdAt);

                // Tạo phần tử li cho tin nhắn
                const li = document.createElement('li');
                li.className = `conversation-item ${!isMe ? 'me' : ''}`;
                li.dataset.messageId = message.id;

                // Kiểm tra xem có phải tin nhắn mới nhất không để hiển thị trạng thái
                const isLatestMessage = messages[messages.length - 1].id === message.id;
                const statusHtml = isMe && isLatestMessage ?
                    `<div class="message-status">Đã gửi</div>` : '';

                // Tạo HTML cho tin nhắn
                li.innerHTML = `
                    <div class="conversation-item-side">
                        <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">
                    </div>
                    <div class="conversation-item-content">
                        <div class="conversation-item-wrapper">
                            <div class="conversation-item-box">
                                <div class="conversation-item-text">
                                    ${renderMessageContent(message)}
                                    <div class="conversation-item-time">${messageTime}</div>
                                    ${statusHtml}
                                </div>
                                <div class="conversation-item-dropdown">
                                    <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>
                                    <ul class="conversation-item-dropdown-list">
                                        <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>
                                        <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                // Thêm tin nhắn vào container
                container.appendChild(li);
            });
        }

        // Cuộn xuống cuối cùng
        function scrollToBottom(element) {
            element.scrollTop = element.scrollHeight;
        }

        // Đánh dấu cuộc hội thoại đã đọc
        function markConversationAsRead(conversationId) {
            // Cập nhật UI để xóa số lượng chưa đọc
            const conversationItem = document.querySelector(`[data-conversation-id="${conversationId}"]`);
            if (conversationItem) {
                const unreadBadge = conversationItem.querySelector('.content-message-unread');
                if (unreadBadge) {
                    unreadBadge.remove();
                }
            }

            // API tự động đánh dấu là đã đọc khi tải tin nhắn trong backend
        }

        // Đăng kí kênh nhân tin nhắn
        function subscribeToConversation(){
            if (!stompClient || !stompClient.connected) {
                        console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');
                        setTimeout(() => subscribeToConversation(), 1000);
                        return;
                    }

            // Hủy đăng ký các kênh hiện tại
                if (window.currentSubscription) {
                    window.currentSubscription.unsubscribe();
                }

                // Đăng ký kênh tin nhắn của cuộc hội thoại này
                window.currentSubscription = stompClient.subscribe(
                    `/topic/conversation`,
                    function(message) {
                        const receivedMessage = JSON.parse(message.body);
                        handleNewMessage(receivedMessage);
                    }
                );

                // Đăng ký kênh thông báo đã đọc
                stompClient.subscribe(
                    `/topic/conversation.read`,
                    function(message) {
                        const readMessage = JSON.parse(message.body);
                        handleMessageRead(readMessage);
                    }
                );

                // Đăng ký kênh cập nhật trạng thái người dùng trong cuộc hội thoại
                stompClient.subscribe(
                    `/topic/conversation.user-status`,
                    function(message) {
                        const statusData = JSON.parse(message.body);
                        handleUserStatusUpdate(statusData);
                    }
                );
        }

        // Cập nhật hàm subscribeToConversation để đăng ký thêm các kênh cần thiết
        // function subscribeToConversation(conversationId) {
        //     if (!stompClient || !stompClient.connected) {
        //         console.log('WebSocket chưa kết nối. Sẽ đăng ký khi đã kết nối.');
        //         setTimeout(() => subscribeToConversation(conversationId), 1000);
        //         return;
        //     }
        //
        //     // Hủy đăng ký các kênh hiện tại
        //     if (window.currentSubscription) {
        //         window.currentSubscription.unsubscribe();
        //     }
        //
        //     // Đăng ký kênh tin nhắn của cuộc hội thoại này
        //     window.currentSubscription = stompClient.subscribe(
        //         `/topic/conversation.${conversationId}`,
        //         function(message) {
        //             const receivedMessage = JSON.parse(message.body);
        //             handleNewMessage(conversationId, receivedMessage);
        //         }
        //     );
        //
        //     // Đăng ký kênh thông báo đã đọc
        //     stompClient.subscribe(
        //         `/topic/conversation.${conversationId}.read`,
        //         function(message) {
        //             const readMessage = JSON.parse(message.body);
        //             handleMessageRead(readMessage);
        //         }
        //     );
        //
        //     // Đăng ký kênh cập nhật trạng thái người dùng trong cuộc hội thoại
        //     stompClient.subscribe(
        //         `/topic/conversation.${conversationId}.user-status`,
        //         function(message) {
        //             const statusData = JSON.parse(message.body);
        //             handleUserStatusUpdate(statusData);
        //         }
        //     );
        // }

        // Xử lý khi có tin nhắn mới
        // function handleNewMessage(conversationId, message) {
        //     // Kiểm tra xem cuộc hội thoại này có đang hiển thị không
        //     const container = document.getElementById(`conversation-${conversationId}`);
        //     if (!container || !container.classList.contains('active')) {
        //         // Cập nhật số lượng chưa đọc trong danh sách hội thoại
        //         updateUnreadCount(conversationId);
        //         return;
        //     }
        //
        //     // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)
        //     if(message.id != null) {
        //         const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);
        //         if (existingMessage) {
        //             // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần
        //             const statusElement = existingMessage.querySelector('.message-status');
        //             if (statusElement) {
        //                 statusElement.textContent = 'Đã gửi';
        //                 statusElement.className = 'message-status sent';
        //             }
        //             return;
        //         }
        //     }
        //
        //     // Kiểm tra xem có tin nhắn tạm thời không
        //     const tempMessage = container.querySelector('[data-message-id^="temp-"]');
        //     if (tempMessage) {
        //         // Cập nhật tin nhắn tạm thời với thông tin mới
        //         tempMessage.dataset.messageId = message.id;
        //         const statusElement = tempMessage.querySelector('.message-status');
        //         if (statusElement) {
        //             statusElement.textContent = 'Đã gửi';
        //             statusElement.className = 'message-status sent';
        //         }
        //         return;
        //     }
        //
        //     // Tạo tin nhắn mới
        //     const messagesList = container.querySelector('.conversation-wrapper');
        //     const currentUserEmail = currentUser?.email || '';
        //     const isMe = message.sender.email === currentUserEmail;
        //
        //     const li = document.createElement('li');
        //     li.className = `conversation-item ${!isMe ? 'me' : ''}`;
        //     li.dataset.messageId = message.id;
        //
        //     // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại
        //     const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');
        //     const statusHtml = isLatestMessage ?
        //         `<div class="message-status">Đã gửi</div>` : '';
        //
        //     li.innerHTML = `
        //         <div class="conversation-item-side">
        //             <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">
        //         </div>
        //         <div class="conversation-item-content">
        //             <div class="conversation-item-wrapper">
        //                 <div class="conversation-item-box">
        //                     <div class="conversation-item-text">
        //                         ${renderMessageContent(message)}
        //                         <div class="conversation-item-time">${formatTime(message.createdAt)}</div>
        //                         ${statusHtml}
        //                     </div>
        //                     <div class="conversation-item-dropdown">
        //                         <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>
        //                         <ul class="conversation-item-dropdown-list">
        //                             <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>
        //                             <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>
        //                         </ul>
        //                     </div>
        //                 </div>
        //             </div>
        //         </div>
        //     `;
        //
        //     messagesList.appendChild(li);
        //     scrollToBottom(container.querySelector('.conversation-main'));
        //
        //     // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị
        //     if (!isMe) {
        //         markMessageAsRead(message.id);
        //     }
        //
        //     // Cập nhật danh sách cuộc hội thoại
        //     updateConversationAfterNewMessage(conversationId, message);
        // }

        function handleNewMessage(message) {
            // Kiểm tra xem cuộc hội thoại này có đang hiển thị không
            const container = document.getElementById(`conversation-${message.conversationId}`);
            if (!container || !container.classList.contains('active')) {
                // Cập nhật số lượng chưa đọc trong danh sách hội thoại
                // updateUnreadCount(message.conversationId);
                return;
            }

            // Kiểm tra xem tin nhắn đã tồn tại chưa (tránh hiển thị trùng lặp)
            if(message.id != null) {
                const existingMessage = document.querySelector(`[data-message-id="${message.id}"]`);
                if (existingMessage) {
                    // Nếu tin nhắn đã tồn tại, chỉ cập nhật trạng thái nếu cần
                    const statusElement = existingMessage.querySelector('.message-status');
                    if (statusElement) {
                        statusElement.textContent = 'Đã gửi';
                        statusElement.className = 'message-status sent';
                    }
                    return;
                }
            }

            // Kiểm tra xem có tin nhắn tạm thời không
            const tempMessage = container.querySelector('[data-message-id^="temp-"]');
            if (tempMessage) {
                // Cập nhật tin nhắn tạm thời với thông tin mới
                tempMessage.dataset.messageId = message.id;
                const statusElement = tempMessage.querySelector('.message-status');
                if (statusElement) {
                    statusElement.textContent = 'Đã gửi';
                    statusElement.className = 'message-status sent';
                }
                return;
            }

            // Tạo tin nhắn mới
            const messagesList = container.querySelector('.conversation-wrapper');
            const currentUserEmail = currentUser?.email || '';
            const isMe = message.sender.email === currentUserEmail;

            const li = document.createElement('li');
            li.className = `conversation-item ${!isMe ? 'me' : ''}`;
            li.dataset.messageId = message.id;

            // Chỉ hiển thị trạng thái cho tin nhắn mới nhất từ người dùng hiện tại
            const isLatestMessage = isMe && !messagesList.querySelector('.conversation-item.me');
            const statusHtml = isLatestMessage ?
                `<div class="message-status">Đã gửi</div>` : '';

            li.innerHTML = `
                <div class="conversation-item-side">
                    <img class="conversation-item-image" src="${message.sender.profileImage || '/img/default_avatar.png'}" alt="">
                </div>
                <div class="conversation-item-content">
                    <div class="conversation-item-wrapper">
                        <div class="conversation-item-box">
                            <div class="conversation-item-text">
                                ${renderMessageContent(message)}
                                <div class="conversation-item-time">${formatTime(message.createdAt)}</div>
                                ${statusHtml}
                            </div>
                            <div class="conversation-item-dropdown">
                                <button type="button" class="conversation-item-dropdown-toggle"><i class="ri-more-2-line"></i></button>
                                <ul class="conversation-item-dropdown-list">
                                    <li><a href="#"><i class="ri-share-forward-line"></i> Chuyển tiếp</a></li>
                                    <li><a href="#"><i class="ri-delete-bin-line"></i> Xóa</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            messagesList.appendChild(li);
            scrollToBottom(container.querySelector('.conversation-main'));

            // Đánh dấu đã đọc nếu cuộc hội thoại đang hiển thị
            if (!isMe) {
                markMessageAsRead(message.id);
            }

            // Cập nhật danh sách cuộc hội thoại
            updateConversationAfterNewMessage(message);
        }

        // Cập nhật danh sách cuộc hội thoại sau khi có tin nhắn mới
        function updateConversationAfterNewMessage(message) {
            // Lấy thông tin cập nhật cuộc hội thoại
            fetch(`/api/v1/chat/conversations/${message.conversationId}`)
                .then(response => response.json())
                .then(conversation => {
                    const conversationItem = document.querySelector(`[data-conversation-id="${message.conversationId}"]`);
                    if (conversationItem) {
                        // Cập nhật thông tin cuộc hội thoại
                        updateConversationItem(conversationItem, conversation);

                        // Cập nhật thời gian cập nhật cuộc hội thoại
                        conversationItem.dataset.updatedAt = message.createdAt;

                        // Sắp xếp lại danh sách
                        sortConversationList();
                    } else {
                        // Nếu chưa có trong danh sách, thêm mới
                        addNewConversation(conversation);
                    }
                })
                .catch(error => console.error('Lỗi khi cập nhật danh sách hội thoại:', error));
        }

        // Cập nhật thông tin của một cuộc hội thoại
        function updateConversationItem(item, conversation) {
            // Cập nhật số lượng chưa đọc
            const unreadContainer = item.querySelector('.content-message-more');
            const existingBadge = unreadContainer.querySelector('.content-message-unread');

            if (existingBadge) {
                if (conversation.unreadCount > 0) {
                    existingBadge.textContent = conversation.unreadCount;
                } else {
                    existingBadge.remove();
                }
            } else if (conversation.unreadCount > 0) {
                const badge = document.createElement('span');
                badge.className = 'content-message-unread';
                badge.textContent = conversation.unreadCount;
                unreadContainer.prepend(badge);
            }

            // Cập nhật tin nhắn cuối cùng
            if (conversation.lastMessage) {
                const messageTextElement = item.querySelector('.content-message-text');
                messageTextElement.textContent = conversation.lastMessage.content;

                const timeElement = item.querySelector('.content-message-time');
                timeElement.textContent = formatTime(conversation.lastMessage.createdAt);
            }
        }

        // Sắp xếp lại danh sách cuộc hội thoại
        function sortConversationList() {
            const list = document.querySelector('.content-messages-list');
            const items = Array.from(list.querySelectorAll('li:not(.content-message-title)'));

            // Sắp xếp các cuộc hội thoại theo thứ tự ưu tiên:
            // 1. Có tin nhắn chưa đọc
            // 2. Thời gian cập nhật mới nhất
            items.sort((a, b) => {
                const aUnread = a.querySelector('.content-message-unread') !== null;
                const bUnread = b.querySelector('.content-message-unread') !== null;

                // Nếu một cuộc hội thoại có tin nhắn chưa đọc và cuộc kia không có
                if (aUnread !== bUnread) {
                    return bUnread ? 1 : -1;
                }

                // Nếu cả hai đều có hoặc không có tin nhắn chưa đọc, sắp xếp theo thời gian
                const timeA = new Date(a.dataset.updatedAt || 0);
                const timeB = new Date(b.dataset.updatedAt || 0);
                return timeB - timeA;
            });

            // Lấy phần tử tiêu đề "Recently"
            const titleElement = list.querySelector('.content-message-title');

            // Xóa tất cả các phần tử hiện tại
            while (list.firstChild) {
                list.removeChild(list.firstChild);
            }

            // Thêm lại tiêu đề
            list.appendChild(titleElement);

            // Thêm lại các cuộc hội thoại đã sắp xếp
            items.forEach(item => {
                list.appendChild(item);
            });
        }

        // Đánh dấu tin nhắn đã đọc
        function markMessageAsRead(messageId) {
            if (stompClient && stompClient.connected) {
                stompClient.send('/app/chat.markRead', {}, JSON.stringify(messageId));
            }
        }

        // Thiết lập sự kiện gửi tin nhắn
        function setupSendMessageListener(submitButton) {
            submitButton.addEventListener('click', function() {
                const conversationId = this.getAttribute('data-conversation-id');
                const container = document.getElementById(`conversation-${conversationId}`);
                const input = container.querySelector('.conversation-form-input');
                const message = input.value.trim();

                if (!message) return;

                // Xóa nội dung input
                input.value = '';

                // Gửi tin nhắn qua API
                sendMessage(conversationId, message);
            });
        }

        // Gửi tin nhắn mới
        function sendMessage(conversationId, content) {
            debugger;
            const now = new Date();
            const localDateTimeStr = now.toISOString().slice(0, 19); // "2025-05-09T14:30:00"

            const messageData = {
                createdAt: localDateTimeStr,
                conversationId: conversationId,
                content: content,
                messageType: 'TEXT',
                fileUrl: null
            };

            // Tạo tin nhắn tạm thời với trạng thái "Đang gửi..."
            const container = document.getElementById(`conversation-${conversationId}`);
            const messagesList = container.querySelector('.conversation-wrapper');

            // Xóa trạng thái của tin nhắn trước đó
            const previousStatus = messagesList.querySelector('.message-status');
            if (previousStatus) {
                previousStatus.remove();
            }

            const tempMessageId = 'temp-' + Date.now();
            const li = document.createElement('li');
            li.className = 'conversation-item';
            li.dataset.messageId = tempMessageId;

            li.innerHTML = `
                <div class="conversation-item-side">
                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">
                </div>
                <div class="conversation-item-content">
                    <div class="conversation-item-wrapper">
                        <div class="conversation-item-box">
                            <div class="conversation-item-text">
                                <p>${content}</p>
                                <div class="conversation-item-time">${formatTime(new Date())}</div>
                                <div class="message-status sending">Đang gửi...</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            messagesList.appendChild(li);
            scrollToBottom(container.querySelector('.conversation-main'));

            // Gửi qua WebSocket
            if (stompClient && stompClient.connected) {
                try {
                    stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));
                } catch (error) {
                    console.error('Lỗi khi gửi tin nhắn qua WebSocket:', error);
                    handleMessageError(li, conversationId, content);
                }
            } else {
                console.error('WebSocket chưa kết nối');
                handleMessageError(li, conversationId, content);
            }
        }

        // Xử lý lỗi khi gửi tin nhắn
        function handleMessageError(messageElement, conversationId, content) {
            const statusElement = messageElement.querySelector('.message-status');
            statusElement.textContent = 'Gửi thất bại';
            statusElement.className = 'message-status error';

            // Thêm class error cho tin nhắn
            messageElement.classList.add('message-error');

            // Thêm nút thử lại
            const retryButton = document.createElement('button');
            retryButton.className = 'retry-button';
            retryButton.innerHTML = '<i class="ri-refresh-line"></i>';
            retryButton.onclick = () => {
                messageElement.remove();
                sendMessage(conversationId, content);
            };
            statusElement.appendChild(retryButton);

            // Hiển thị thông báo lỗi
            const errorNotification = document.createElement('div');
            errorNotification.className = 'error-notification';
            errorNotification.innerHTML = `
                <i class="ri-error-warning-line"></i>
                <span>Không thể gửi tin nhắn. Vui lòng thử lại.</span>
            `;
            document.body.appendChild(errorNotification);

            // Tự động ẩn thông báo sau 3 giây
            setTimeout(() => {
                errorNotification.remove();
            }, 3000);
        }

        // Định dạng thời gian
        function formatTime(isoTime) {
            if (!isoTime) return "N/A";

            const now = new Date();
            const time = new Date(isoTime);
            const diffMs = now - time;
            const diffSec = Math.floor(diffMs / 1000);
            const diffMin = Math.floor(diffSec / 60);
            const diffHour = Math.floor(diffMin / 60);
            const diffDay = Math.floor(diffHour / 24);

            if (diffSec < 60) return `${diffSec} giây trước`;
            if (diffMin < 60) return `${diffMin} phút trước`;
            if (diffHour < 24) return `${diffHour} giờ trước`;

            // Nếu là hôm qua
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            if (
                time.getDate() === yesterday.getDate() &&
                time.getMonth() === yesterday.getMonth() &&
                time.getFullYear() === yesterday.getFullYear()
            ) {
                return "Hôm qua";
            }

            if (diffDay < 7) return `${diffDay} ngày trước`;

            if (now.getFullYear() === time.getFullYear()) {
                return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}`;
            }

            return `${time.getDate().toString().padStart(2, '0')}/${(time.getMonth() + 1).toString().padStart(2, '0')}/${time.getFullYear()}`;
        }

        // Add file size formatting function
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Setup file upload handlers
        function setupFileUploadHandlers(container) {
            const fileInput = container.querySelector('.file-input');
            const imageInput = container.querySelector('.image-input');

            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    handleFileUpload(container, file, 'FILE');
                }
            });

            imageInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    handleFileUpload(container, file, 'IMAGE');
                }
            });
        }

        // Handle file upload
        function handleFileUpload(container, file, messageType) {
            const conversationId = container.querySelector('.conversation-form-submit').getAttribute('data-conversation-id');
            const formData = new FormData();
            formData.append('file', file);
            formData.append('conversationId', conversationId);
            formData.append('messageType', messageType);

            // Show loading state
            const tempMessageId = 'temp-' + Date.now();
            const messagesList = container.querySelector('.conversation-wrapper');
            const li = document.createElement('li');
            li.className = 'conversation-item';
            li.dataset.messageId = tempMessageId;

            let contentHtml = '';
            if (messageType === 'IMAGE') {
                contentHtml = `
                    <img src="${URL.createObjectURL(file)}" class="message-image" alt="Uploading...">
                    <div class="message-status sending">Đang gửi...</div>
                `;
            } else {
                contentHtml = `
                    <div class="message-file">
                        <i class="ri-file-line"></i>
                        <div class="message-file-info">
                            <div class="message-file-name">${file.name}</div>
                            <div class="message-file-size">${formatFileSize(file.size)}</div>
                        </div>
                    </div>
                    <div class="message-status sending">Đang gửi...</div>
                `;
            }

            li.innerHTML = `
                <div class="conversation-item-side">
                    <img class="conversation-item-image" src="${currentUser?.profileImage || '/img/default_avatar.png'}" alt="">
                </div>
                <div class="conversation-item-content">
                    <div class="conversation-item-wrapper">
                        <div class="conversation-item-box">
                            <div class="conversation-item-text">
                                ${contentHtml}
                            </div>
                        </div>
                    </div>
                </div>
            `;

            messagesList.appendChild(li);
            scrollToBottom(container.querySelector('.conversation-main'));

            // Upload file to server
            fetch('/api/v1/chat/upload', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    // Send message with file URL through WebSocket
                    const messageData = {
                        conversationId: conversationId,
                        content: file.name,
                        messageType: messageType,
                        fileUrl: data.fileUrl
                    };

                    if (stompClient && stompClient.connected) {
                        stompClient.send('/app/chat.sendMessage', {}, JSON.stringify(messageData));
                    } else {
                        throw new Error('WebSocket chưa kết nối');
                    }
                })
                .catch(error => {
                    console.error('Error uploading file:', error);
                    const statusElement = li.querySelector('.message-status');
                    statusElement.textContent = 'Gửi thất bại';
                    statusElement.className = 'message-status error';

                    const retryButton = document.createElement('button');
                    retryButton.className = 'retry-button';
                    retryButton.innerHTML = '<i class="ri-refresh-line"></i>';
                    retryButton.onclick = () => {
                        li.remove();
                        handleFileUpload(container, file, messageType);
                    };
                    statusElement.appendChild(retryButton);
                });
        }

        // Hàm hiển thị nội dung tin nhắn dựa trên loại tin nhắn
        function renderMessageContent(message) {
            // Kiểm tra loại tin nhắn và trả về HTML tương ứng
            switch (message.messageType) {
                case 'IMAGE':
                    // Nếu là ảnh, hiển thị thẻ img với sự kiện click để xem ảnh to
                    return `
                        <img src="${message.fileUrl}" class="message-image" alt="Image" onclick="showImagePreview('${message.fileUrl}')">
                    `;
                case 'FILE':
                    // Nếu là file, hiển thị link download với icon và tên file
                    return `
                        <a href="${message.fileUrl}" class="message-file" download>
                            <i class="ri-file-line"></i>
                            <div class="message-file-info">
                                <div class="message-file-name">${message.content}</div>
                            </div>
                        </a>
                    `;
                default:
                    // Nếu là text, hiển thị nội dung bình thường
                    return `<p>${message.content}</p>`;
            }
        }

        // Add image preview functionality
        window.showImagePreview = function(imageUrl) {
            const modal = document.querySelector('.image-preview-modal');
            const img = modal.querySelector('img');
            img.src = imageUrl;
            modal.classList.add('active');

            // Setup download button
            const downloadBtn = modal.querySelector('.image-preview-download');
            downloadBtn.onclick = function() {
                const link = document.createElement('a');
                link.href = imageUrl;
                link.download = imageUrl.split('/').pop();
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };
        };

        // Close image preview
        document.querySelector('.image-preview-close').addEventListener('click', function() {
            document.querySelector('.image-preview-modal').classList.remove('active');
        });

        // Close image preview on background click
        document.querySelector('.image-preview-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });

        // Khởi tạo BroadcastChannel để đồng bộ giữa các tab
        const chatChannel = new BroadcastChannel('chat_sync');

        // Lắng nghe tin nhắn từ các tab khác
        chatChannel.onmessage = function(event) {
            const data = event.data;
            switch(data.type) {
                case 'NEW_MESSAGE':
                    handleNewMessage(data.conversationId, data.message);
                    break;
                case 'MESSAGE_ERROR':
                    handleMessageError(data.messageId, data.conversationId, data.content);
                    break;
                case 'CONVERSATION_UPDATE':
                    updateConversationList(data.conversationId, data.updateData);
                    break;
            }
        };
    });
</script>

<!-- Thêm thư viện SockJS và STOMP cho WebSocket -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>

<script src="/js/script.js"></script>

<!-- Add Image Preview Modal -->
<div class="image-preview-modal">
    <div class="image-preview-content">
        <span class="image-preview-close"><i class="ri-close-line"></i></span>
        <img src="" alt="Preview">
        <span class="image-preview-download"><i class="ri-download-line"></i></span>
    </div>
</div>
</body>
</html>

<!--Chỉ cập nhật được cuộc hội thoại đang dduwjowjc mở các đoạng hội thaoji khác không được cập nhật-->
